{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Web-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0440\u043e\u0432\u0430\u043d\u0438\u0435 2022 \u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b \u0411\u0430\u043b\u0434\u0438\u043d\u043e\u0439 \u0414\u0430\u0440\u044c\u0438 K33401","title":"\u0417\u043d\u0430\u043a\u043e\u043c\u0441\u0442\u0432\u043e"},{"location":"#web-2022","text":"","title":"Web-\u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0440\u043e\u0432\u0430\u043d\u0438\u0435 2022"},{"location":"#k33401","text":"","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u044b\u0435 \u0440\u0430\u0431\u043e\u0442\u044b \u0411\u0430\u043b\u0434\u0438\u043d\u043e\u0439 \u0414\u0430\u0440\u044c\u0438 K33401"},{"location":"lr1/","text":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21161 \u0417\u0430\u0434\u0430\u0447\u0430 \u21161 server.py import socket s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) s . bind (( 'localhost' , 8080 )) s . listen ( 1 ) conn , addr = s . accept () while True : data = conn . recv ( 1024 ) #\u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 \u0441\u043e\u043a\u0435\u0442\u0430. if not data : break conn . sendall ( 'Hello, client.' . encode ( 'utf-8' )) print ( data . decode ( 'utf-8' )) conn . close () client.py import socket s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) s . connect (( 'localhost' , 8080 )) s . sendall ( 'Hello, server.' . encode ( 'utf-8' )) # \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u0444\u0440\u0430\u0437\u0443. data = s . recv ( 1024 ) #\u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0438\u0437 \u0441\u043e\u043a\u0435\u0442\u0430. print ( data . decode ( 'utf-8' )) s . close () \u0417\u0430\u0434\u0430\u0447\u0430 \u21162 server.py from math import sqrt s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) s . bind (( 'localhost' , 3030 )) s . listen ( 1 ) conn , addr = s . accept () while True : data = conn . recv ( 1024 ) if not data : break list_of_coef = data . decode ( 'utf-8' ) . split ( ',' ) for i in range ( len ( list_of_coef )): list_of_coef [ i ] = int ( list_of_coef [ i ]) #\u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u043e\u0434\u0441\u0447\u0435\u0442\u044b d = list_of_coef [ 1 ] ** 2 - 4 * list_of_coef [ 0 ] * list_of_coef [ 2 ] if d < 0 : conn . sendall ( '\u041d\u0435\u0442 \u0440\u0435\u0448\u0435\u043d\u0438\u0439' . encode ( 'utf-8' )) elif d == 0 : result = '\u041a\u043e\u0440\u0435\u043d\u044c \u0443\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f: ' + str ( round ( - list_of_coef [ 1 ] / ( 2 * list_of_coef [ 0 ]), 3 )) conn . sendall ( result . encode ( 'utf-8' )) else : result = '\u041a\u043e\u0440\u043d\u0438 \u043a\u0432\u0430\u0434\u0440\u0430\u0442\u043d\u043e\u0433\u043e \u0443\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f: ' + str ( round (( - list_of_coef [ 1 ] - sqrt ( d )) / ( 2 * list_of_coef [ 0 ]), 3 )) + ' ' + str ( round (( - list_of_coef [ 1 ] + sqrt ( d )) / ( 2 * list_of_coef [ 0 ]), 3 )) conn . sendall ( result . encode ( 'utf-8' )) conn . close () client.py import socket s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) s . connect (( 'localhost' , 3030 )) print ( '\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442\u044b \u043a\u0432\u0430\u0434\u0440\u0430\u0442\u043d\u043e\u0433\u043e \u0443\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f' ) a , b , c = map ( int , input () . split ()) s . sendall (( str ( a ) + ',' + str ( b ) + ',' + str ( c )) . encode ( 'utf-8' )) answer = s . recv ( 1024 ) print ( answer . decode ( 'utf-8' )) s . close () \u0417\u0430\u0434\u0430\u0447\u0430 \u21163 server.py import socket s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) s . bind (( 'localhost' , 555 )) s . listen ( 1 ) while True : conn , addr = s . accept () #\u0440\u0430\u0431\u043e\u0442\u0430 \u0441 \u0444\u0430\u0439\u043b\u043e\u043c html_page = open ( 'index.html' ) html_content = html_page . read () html_page . close () html_response = 'HTTP/1.0 200 OK \\n ' + html_content conn . sendall ( html_response . encode ( 'utf-8' )) conn . close () client.py import socket s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) s . connect (( 'localhost' , 555 )) data = s . recv ( 1024 ) #\u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0438\u0437 \u0441\u043e\u043a\u0435\u0442\u0430. print ( data . decode ( 'utf-8' )) s . close () index.html <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > Test page </ title > </ head > < body > < p > \"Hello, world!\" </ p > </ body > </ html > \u0417\u0430\u0434\u0430\u0447\u0430 \u21164 server.py import threading , socket def send_to_chat ( sender , msg ): for client in clients : if sender != client : client . sendall ( msg ) def handle_client ( cl_sock , cl_addr ): #\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 print ( f 'Client { cl_addr [ 0 ] } : { cl_addr [ 1 ] } join the chat' ) while True : try : message = cl_sock . recv ( 1024 ) #\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 if message . decode ( 'utf-8' ) . find ( 'bye' ) != - 1 : #\u043a\u043b\u0438\u0435\u043d\u0442 \u043f\u043e\u043a\u0438\u0434\u0430\u0435\u0442 send_to_chat ( cl_sock , message ) break elif message . decode ( 'utf-8' ) . find ( 'Error' ) != - 1 : break send_to_chat ( cl_sock , message ) #\u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430\u043c \u0447\u0430\u0442\u0430 except socket . error : print ( f 'Client { cl_addr [ 0 ] } : { cl_addr [ 1 ] } suddenly left' ) break print ( f 'Client { cl_addr [ 0 ] } : { cl_addr [ 1 ] } left the chat' ) clients . remove ( cl_sock ) cl_sock . close () #\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0441\u0435\u0440\u0432\u0435\u0440 s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) host = 'localhost' port = 9090 s . bind (( host , port )) s . listen ( 100 ) clients = [] print ( 'Starting chat server' ) while True : try : client_socket , client_address = s . accept () if client_address not in clients : clients . append ( client_socket ) t1 = threading . Thread ( target = handle_client , args = ( client_socket , client_address )) t1 . start () except KeyboardInterrupt : print ( 'Server stopped' ) break s . close () client.py import socket , threading , time shutdown = False def recive (): while not shutdown : try : data = s . recv ( 1024 ) . decode ( 'utf-8' ) print ( data ) except socket . error : time . sleep ( 0.5 ) continue s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) host = 'localhost' port = 9090 s . connect (( host , port )) s . setblocking ( 0 ) alias = input ( \"Name: \" ) print ( 'If you want to leave the chat write: bye' ) rt = threading . Thread ( target = recive ) rt . start () while True : try : message = input () s . sendall (( f ' { alias } :: { message } ' ) . encode ( 'utf-8' )) if message == 'bye' : print ( 'You left the chat' ) shutdown = True break except : s . sendall ( 'Error' . encode ( 'utf-8' )) print ( 'Error. Disconected' ) shutdown = True break s . close () \u0417\u0430\u0434\u0430\u0447\u0430 \u21165 http_server_task_5.py import socket class Response : def __init__ ( self , status , reason , headers = None , body = None ): self . status = status self . reason = reason self . headers = headers self . body = body class MyHTTPServer : def __init__ ( self , host , port ): self . host = host self . port = port self . marks = {} def serve_forever ( self ): serv_sock = socket . socket ( socket . AF_INET , socket . SOCK_STREAM , proto = 0 ) try : serv_sock . bind (( self . host , self . port )) serv_sock . listen () while True : client , address = serv_sock . accept () self . serve_client ( client ) except KeyboardInterrupt : serv_sock . close () def serve_client ( self , client ): try : data = client . recv ( 1024 ) . decode ( 'utf-8' ) req = self . parse_request ( data ) res = self . handle_request ( req ) self . send_response ( client , res ) except Exception as e : print ( e ) client . close () def parse_request ( self , data ): req = data . rstrip ( ' \\r\\n ' ) words = req [: data . index ( \" \\n \" )] . split () if len ( words ) != 3 : raise Exception ( 'Malformed request line' ) method , target , ver = words if ver != 'HTTP/1.1' : raise Exception ( 'Unexpected HTTP version' ) request = { 'data' : {}, 'method' : method } if '?' in target : request [ 'method' ] = 'POST' values = target . split ( '?' )[ 1 ] . split ( '&' ) for value in values : a , b = value . split ( '=' ) request [ 'data' ][ a ] = b return request def handle_request ( self , req ): if req [ 'method' ] == 'POST' : return self . handle_post ( req ) else : return self . handle_get () def handle_get ( self ): content_type = 'text/html; charset=utf-8' body = '<html><head><style></style></head><body>' body += '<form><label>\u0414\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0430</label><input name=\"discipline\" /><br><label>\u041e\u0446\u0435\u043d\u043a\u0430</label><input name=\"grade\"/><input type=\"submit\"></form>' for subject in self . marks : body += f '<div><span> { subject } : { self . marks [ subject ] } </span></div>' body += '</div></body></html>' body = body . encode ( 'utf-8' ) headers = [( 'Content-Type' , content_type ), ( 'Content-Length' , len ( body ))] return Response ( 200 , 'OK' , headers , body ) def handle_post ( self , request ): discipline = request [ 'data' ][ 'discipline' ] grade = request [ 'data' ][ 'grade' ] if discipline not in self . marks : self . marks [ discipline ] = [] self . marks [ discipline ] . append ( grade ) return self . handle_get () def send_response ( self , conn , resp ): rfile = conn . makefile ( 'wb' ) status_line = f 'HTTP/1.1 { resp . status } { resp . reason } \\r\\n ' rfile . write ( status_line . encode ( 'utf-8' )) if resp . headers : for ( key , value ) in resp . headers : header_line = f ' { key } : { value } \\r\\n ' rfile . write ( header_line . encode ( 'utf-8' )) rfile . write ( b ' \\r\\n ' ) if resp . body : rfile . write ( resp . body ) rfile . flush () rfile . close () # 6. \u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043e\u0442\u0432\u0435\u0442\u0430. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 status line \u0432\u0438\u0434\u0430 HTTP/1.1 <status_code> <reason>. \u0417\u0430\u0442\u0435\u043c, \u043f\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u043e \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438 \u0438 \u043f\u0443\u0441\u0442\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443, \u043e\u0431\u043e\u0437\u043d\u0430\u0447\u0430\u044e\u0449\u0443\u044e \u043a\u043e\u043d\u0435\u0446 \u0441\u0435\u043a\u0446\u0438\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432. if __name__ == '__main__' : host = '127.0.0.1' port = 8000 serv = MyHTTPServer ( host , port ) try : serv . serve_forever () except KeyboardInterrupt : pass","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21161"},{"location":"lr1/#no1","text":"","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21161"},{"location":"lr1/#no1_1","text":"server.py import socket s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) s . bind (( 'localhost' , 8080 )) s . listen ( 1 ) conn , addr = s . accept () while True : data = conn . recv ( 1024 ) #\u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 \u0441\u043e\u043a\u0435\u0442\u0430. if not data : break conn . sendall ( 'Hello, client.' . encode ( 'utf-8' )) print ( data . decode ( 'utf-8' )) conn . close () client.py import socket s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) s . connect (( 'localhost' , 8080 )) s . sendall ( 'Hello, server.' . encode ( 'utf-8' )) # \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u0444\u0440\u0430\u0437\u0443. data = s . recv ( 1024 ) #\u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0438\u0437 \u0441\u043e\u043a\u0435\u0442\u0430. print ( data . decode ( 'utf-8' )) s . close ()","title":"\u0417\u0430\u0434\u0430\u0447\u0430 \u21161"},{"location":"lr1/#no2","text":"server.py from math import sqrt s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) s . bind (( 'localhost' , 3030 )) s . listen ( 1 ) conn , addr = s . accept () while True : data = conn . recv ( 1024 ) if not data : break list_of_coef = data . decode ( 'utf-8' ) . split ( ',' ) for i in range ( len ( list_of_coef )): list_of_coef [ i ] = int ( list_of_coef [ i ]) #\u043c\u0430\u0442\u0435\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u043e\u0434\u0441\u0447\u0435\u0442\u044b d = list_of_coef [ 1 ] ** 2 - 4 * list_of_coef [ 0 ] * list_of_coef [ 2 ] if d < 0 : conn . sendall ( '\u041d\u0435\u0442 \u0440\u0435\u0448\u0435\u043d\u0438\u0439' . encode ( 'utf-8' )) elif d == 0 : result = '\u041a\u043e\u0440\u0435\u043d\u044c \u0443\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f: ' + str ( round ( - list_of_coef [ 1 ] / ( 2 * list_of_coef [ 0 ]), 3 )) conn . sendall ( result . encode ( 'utf-8' )) else : result = '\u041a\u043e\u0440\u043d\u0438 \u043a\u0432\u0430\u0434\u0440\u0430\u0442\u043d\u043e\u0433\u043e \u0443\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f: ' + str ( round (( - list_of_coef [ 1 ] - sqrt ( d )) / ( 2 * list_of_coef [ 0 ]), 3 )) + ' ' + str ( round (( - list_of_coef [ 1 ] + sqrt ( d )) / ( 2 * list_of_coef [ 0 ]), 3 )) conn . sendall ( result . encode ( 'utf-8' )) conn . close () client.py import socket s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) s . connect (( 'localhost' , 3030 )) print ( '\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u044d\u0444\u0444\u0438\u0446\u0438\u0435\u043d\u0442\u044b \u043a\u0432\u0430\u0434\u0440\u0430\u0442\u043d\u043e\u0433\u043e \u0443\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f' ) a , b , c = map ( int , input () . split ()) s . sendall (( str ( a ) + ',' + str ( b ) + ',' + str ( c )) . encode ( 'utf-8' )) answer = s . recv ( 1024 ) print ( answer . decode ( 'utf-8' )) s . close ()","title":"\u0417\u0430\u0434\u0430\u0447\u0430 \u21162"},{"location":"lr1/#no3","text":"server.py import socket s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) s . bind (( 'localhost' , 555 )) s . listen ( 1 ) while True : conn , addr = s . accept () #\u0440\u0430\u0431\u043e\u0442\u0430 \u0441 \u0444\u0430\u0439\u043b\u043e\u043c html_page = open ( 'index.html' ) html_content = html_page . read () html_page . close () html_response = 'HTTP/1.0 200 OK \\n ' + html_content conn . sendall ( html_response . encode ( 'utf-8' )) conn . close () client.py import socket s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) s . connect (( 'localhost' , 555 )) data = s . recv ( 1024 ) #\u043f\u043e\u043b\u0443\u0447\u0430\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0438\u0437 \u0441\u043e\u043a\u0435\u0442\u0430. print ( data . decode ( 'utf-8' )) s . close () index.html <!DOCTYPE html> < html lang = \"en\" > < head > < meta charset = \"UTF-8\" > < title > Test page </ title > </ head > < body > < p > \"Hello, world!\" </ p > </ body > </ html >","title":"\u0417\u0430\u0434\u0430\u0447\u0430 \u21163"},{"location":"lr1/#no4","text":"server.py import threading , socket def send_to_chat ( sender , msg ): for client in clients : if sender != client : client . sendall ( msg ) def handle_client ( cl_sock , cl_addr ): #\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 print ( f 'Client { cl_addr [ 0 ] } : { cl_addr [ 1 ] } join the chat' ) while True : try : message = cl_sock . recv ( 1024 ) #\u043f\u0440\u0438\u043d\u0438\u043c\u0430\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442 \u043a\u043b\u0438\u0435\u043d\u0442\u0430 if message . decode ( 'utf-8' ) . find ( 'bye' ) != - 1 : #\u043a\u043b\u0438\u0435\u043d\u0442 \u043f\u043e\u043a\u0438\u0434\u0430\u0435\u0442 send_to_chat ( cl_sock , message ) break elif message . decode ( 'utf-8' ) . find ( 'Error' ) != - 1 : break send_to_chat ( cl_sock , message ) #\u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430\u043c \u0447\u0430\u0442\u0430 except socket . error : print ( f 'Client { cl_addr [ 0 ] } : { cl_addr [ 1 ] } suddenly left' ) break print ( f 'Client { cl_addr [ 0 ] } : { cl_addr [ 1 ] } left the chat' ) clients . remove ( cl_sock ) cl_sock . close () #\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u0435\u043c \u0441\u0435\u0440\u0432\u0435\u0440 s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) host = 'localhost' port = 9090 s . bind (( host , port )) s . listen ( 100 ) clients = [] print ( 'Starting chat server' ) while True : try : client_socket , client_address = s . accept () if client_address not in clients : clients . append ( client_socket ) t1 = threading . Thread ( target = handle_client , args = ( client_socket , client_address )) t1 . start () except KeyboardInterrupt : print ( 'Server stopped' ) break s . close () client.py import socket , threading , time shutdown = False def recive (): while not shutdown : try : data = s . recv ( 1024 ) . decode ( 'utf-8' ) print ( data ) except socket . error : time . sleep ( 0.5 ) continue s = socket . socket ( socket . AF_INET , socket . SOCK_STREAM ) host = 'localhost' port = 9090 s . connect (( host , port )) s . setblocking ( 0 ) alias = input ( \"Name: \" ) print ( 'If you want to leave the chat write: bye' ) rt = threading . Thread ( target = recive ) rt . start () while True : try : message = input () s . sendall (( f ' { alias } :: { message } ' ) . encode ( 'utf-8' )) if message == 'bye' : print ( 'You left the chat' ) shutdown = True break except : s . sendall ( 'Error' . encode ( 'utf-8' )) print ( 'Error. Disconected' ) shutdown = True break s . close ()","title":"\u0417\u0430\u0434\u0430\u0447\u0430 \u21164"},{"location":"lr1/#no5","text":"http_server_task_5.py import socket class Response : def __init__ ( self , status , reason , headers = None , body = None ): self . status = status self . reason = reason self . headers = headers self . body = body class MyHTTPServer : def __init__ ( self , host , port ): self . host = host self . port = port self . marks = {} def serve_forever ( self ): serv_sock = socket . socket ( socket . AF_INET , socket . SOCK_STREAM , proto = 0 ) try : serv_sock . bind (( self . host , self . port )) serv_sock . listen () while True : client , address = serv_sock . accept () self . serve_client ( client ) except KeyboardInterrupt : serv_sock . close () def serve_client ( self , client ): try : data = client . recv ( 1024 ) . decode ( 'utf-8' ) req = self . parse_request ( data ) res = self . handle_request ( req ) self . send_response ( client , res ) except Exception as e : print ( e ) client . close () def parse_request ( self , data ): req = data . rstrip ( ' \\r\\n ' ) words = req [: data . index ( \" \\n \" )] . split () if len ( words ) != 3 : raise Exception ( 'Malformed request line' ) method , target , ver = words if ver != 'HTTP/1.1' : raise Exception ( 'Unexpected HTTP version' ) request = { 'data' : {}, 'method' : method } if '?' in target : request [ 'method' ] = 'POST' values = target . split ( '?' )[ 1 ] . split ( '&' ) for value in values : a , b = value . split ( '=' ) request [ 'data' ][ a ] = b return request def handle_request ( self , req ): if req [ 'method' ] == 'POST' : return self . handle_post ( req ) else : return self . handle_get () def handle_get ( self ): content_type = 'text/html; charset=utf-8' body = '<html><head><style></style></head><body>' body += '<form><label>\u0414\u0438\u0441\u0446\u0438\u043f\u043b\u0438\u043d\u0430</label><input name=\"discipline\" /><br><label>\u041e\u0446\u0435\u043d\u043a\u0430</label><input name=\"grade\"/><input type=\"submit\"></form>' for subject in self . marks : body += f '<div><span> { subject } : { self . marks [ subject ] } </span></div>' body += '</div></body></html>' body = body . encode ( 'utf-8' ) headers = [( 'Content-Type' , content_type ), ( 'Content-Length' , len ( body ))] return Response ( 200 , 'OK' , headers , body ) def handle_post ( self , request ): discipline = request [ 'data' ][ 'discipline' ] grade = request [ 'data' ][ 'grade' ] if discipline not in self . marks : self . marks [ discipline ] = [] self . marks [ discipline ] . append ( grade ) return self . handle_get () def send_response ( self , conn , resp ): rfile = conn . makefile ( 'wb' ) status_line = f 'HTTP/1.1 { resp . status } { resp . reason } \\r\\n ' rfile . write ( status_line . encode ( 'utf-8' )) if resp . headers : for ( key , value ) in resp . headers : header_line = f ' { key } : { value } \\r\\n ' rfile . write ( header_line . encode ( 'utf-8' )) rfile . write ( b ' \\r\\n ' ) if resp . body : rfile . write ( resp . body ) rfile . flush () rfile . close () # 6. \u0424\u0443\u043d\u043a\u0446\u0438\u044f \u0434\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043e\u0442\u0432\u0435\u0442\u0430. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 status line \u0432\u0438\u0434\u0430 HTTP/1.1 <status_code> <reason>. \u0417\u0430\u0442\u0435\u043c, \u043f\u043e\u0441\u0442\u0440\u043e\u0447\u043d\u043e \u0437\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438 \u0438 \u043f\u0443\u0441\u0442\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443, \u043e\u0431\u043e\u0437\u043d\u0430\u0447\u0430\u044e\u0449\u0443\u044e \u043a\u043e\u043d\u0435\u0446 \u0441\u0435\u043a\u0446\u0438\u0438 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u0432. if __name__ == '__main__' : host = '127.0.0.1' port = 8000 serv = MyHTTPServer ( host , port ) try : serv . serve_forever () except KeyboardInterrupt : pass","title":"\u0417\u0430\u0434\u0430\u0447\u0430 \u21165"},{"location":"lr2/","text":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21162 - \u0412\u0430\u0440\u0438\u0430\u043d\u0442 1 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b \u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f, \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043e\u0442\u0435\u043b\u044f, \u0430\u0434\u0440\u0435\u0441, \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435, \u0442\u0438\u043f\u044b \u043d\u043e\u043c\u0435\u0440\u043e\u0432, \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c, \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c, \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b: \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439. \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438 \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440\u043e\u0432. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u0432\u043e\u0438\u0445 \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439. \u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442\u0437\u044b\u0432\u043e\u0432 \u043a \u043d\u043e\u043c\u0435\u0440\u0430\u043c. \u041f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432, \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c\u0441\u044f \u043f\u0435\u0440\u0438\u043e\u0434 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f, \u0442\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f, \u0440\u0435\u0439\u0442\u0438\u043d\u0433 (1-10), \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0442\u043e\u0440\u0435. \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0441\u0435\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u043e\u0442\u0435\u043b\u044c \u0438 \u0432\u044b\u0441\u0435\u043b\u0438\u0442\u044c \u0438\u0437 \u043e\u0442\u0435\u043b\u044f \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 Django-admin. \u0412 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430, \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0449\u0430\u044f \u043f\u043e\u0441\u0442\u043e\u044f\u043b\u044c\u0446\u0435\u0432 \u043e\u0442\u0435\u043b\u044f \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043c\u0435\u0441\u044f\u0446. \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u0441 \u043a\u043e\u0434\u043e\u043c models.py from tabnanny import verbose from django.db import models from django.core.validators import MinValueValidator , MaxValueValidator from django.core.exceptions import ValidationError from django.db.models import Q from datetime import timedelta class Hotel ( models . Model ): name = models . CharField ( \"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f\" , primary_key = True , max_length = 255 ) address = models . CharField ( \"\u0410\u0434\u0440\u0435\u0441\" , max_length = 255 ) stars = models . PositiveSmallIntegerField ( \"\u0420\u0435\u0439\u0442\u0438\u043d\u0433\" , validators = [ MinValueValidator ( 1 ), MaxValueValidator ( 5 )]) owner = models . CharField ( \"\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446 \u043e\u0442\u0435\u043b\u044f\" , max_length = 255 ) def __str__ ( self ): return f \" { self . stars } -star hotel { self . name } \" class Room ( models . Model ): number_room = models . IntegerField ( \"\u041d\u043e\u043c\u0435\u0440 \u043a\u043e\u043c\u043d\u0430\u0442\u044b\" , primary_key = True ) hotel = models . ForeignKey ( Hotel , on_delete = models . CASCADE , verbose_name = \"\u041e\u0442\u0435\u043b\u044c\" ) type_room = models . CharField ( \"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043d\u0430\u0442\u044b\" , max_length = 100 ) beds = models . PositiveSmallIntegerField ( \"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043f\u0430\u043b\u044c\u043d\u044b\u0445 \u043c\u0435\u0441\u0442\" , validators = [ MinValueValidator ( 1 )]) room_price = models . PositiveIntegerField ( \"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u043e\u043c\u0435\u0440\u0430\" ) class Meta : # One hotel can't have two rooms with the same number unique_together = ( 'hotel' , 'number_room' ) def __str__ ( self ): return f \"Room { self . number_room } of hotel { self . hotel . name } \" class Guest ( models . Model ): first_name = models . CharField ( \"\u0418\u043c\u044f\" , max_length = 30 , null = False ) last_name = models . CharField ( \"\u0424\u0430\u043c\u0438\u043b\u0438\u044f\" , max_length = 30 , null = False ) passport = models . CharField ( \"\u041d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430\" , primary_key = True , max_length = 30 ) def __str__ ( self ): return f \"\u0413\u043e\u0441\u0442\u044c { self . last_name } { self . first_name } \" class Reservation ( models . Model ): order_number = models . AutoField ( \"\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430\" , primary_key = True ) room = models . ForeignKey ( Room , on_delete = models . CASCADE ) hotel = models . ForeignKey ( Hotel , on_delete = models . CASCADE , default = \"\u0420\u043e\u043c\u0430\u0448\u043a\u0430\" ) guest = models . ForeignKey ( Guest , on_delete = models . CASCADE , verbose_name = \"\u0413\u043e\u0441\u0442\u044c\" ) arrival_date = models . DateField ( \"\u0414\u0430\u0442\u0430 \u0437\u0430\u0435\u0437\u0434\u0430\" ) departure_date = models . DateField ( \"\u0414\u0430\u0442\u0430 \u0432\u044b\u0435\u0437\u0434\u0430\" ) price = models . PositiveIntegerField ( \"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f\" ) booking_date = models . DateTimeField ( \"\u0414\u0430\u0442\u0430 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\" , auto_now_add = True ) @property def duration ( self ): return ( self . departure_date - self . arrival_date ) . days def clean ( self ): # Check that start < end if self . arrival_date >= self . departure_date : raise ValidationError ( \"Duration date must be greater than start date\" ) def save ( self , * args , ** kwargs ): # Calculate the price based on number of nights at the hotel self . price = self . room . room_price * self . duration super ( Reservation , self ) . save ( * args , ** kwargs ) def __str__ ( self ): return f \"Booking { self . pk } in hotel { self . room . hotel . name } from { self . arrival_date } to { self . departure_date } \" class Comment ( models . Model ): reservation = models . ForeignKey ( Reservation , on_delete = models . CASCADE , verbose_name = \"\u041a\u043e\u0434 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\" ) date_start = models . DateField ( \"\u0414\u0430\u0442\u0430 \u0437\u0430\u0435\u0437\u0434\u0430\" ) date_end = models . DateField ( \"\u0414\u0430\u0442\u0430 \u0432\u044b\u0435\u0437\u0434\u0430\" ) text = models . TextField ( \"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439\" , null = False ) rate = models . IntegerField ( \"\u041e\u0446\u0435\u043d\u043a\u0430\" , default = 10 , validators = [ MaxValueValidator ( 10 ), MinValueValidator ( 1 )]) sing_author = models . CharField ( \"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0432\u0430\u0448 \u043d\u0438\u043a\" , max_length = 30 ) def save ( self , * args , ** kwargs ): # Calculate the price based on number of nights at the hotel self . date_start = self . reservation . arrival_date self . date_end = self . reservation . departure_date super ( Comment , self ) . save ( * args , ** kwargs ) views.py from django.shortcuts import render , redirect from msilib.schema import ListView from django.http import Http404 from .models import Hotel , Reservation , Room , Guest , Comment from django.views.generic import ListView , UpdateView , CreateView , DeleteView from .forms import CreateComment , CreateReservation #\u0434\u043b\u044f \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b def main_page ( request ): return render ( request , 'main_page.html' ) #\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f class RegGuests ( CreateView ): model = Guest fields = [ \"first_name\" , \"last_name\" , \"passport\" , ] template_name = \"register_guests.html\" #\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0432\u0441\u0435\u0445 \u043d\u043e\u043c\u0435\u0440\u043e\u0432 class RoomsList ( ListView ): model = Room template_name = 'list_rooms.html' #\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 def create_reservation ( request ): data = {} form = CreateReservation ( request . POST or None ) if form . is_valid (): form . save () data [ 'form' ] = form return render ( request , 'create_reservation.html' , data ) #\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f def user_book ( request , guest_passport ): need_book = Reservation . objects . filter ( guest = guest_passport ) current_book = { \"object_list\" : need_book } return render ( request , 'users_bookings.html' , current_book ) #\u043e\u0442\u0431\u043e\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439 def my_bookings ( request ): try : passport = int ( request . POST . get ( 'passport_user' )) return redirect ( f \"/users_bookings/ { passport } /\" ) except : return render ( request , \"my_bookings.html\" ) #\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0440\u043e\u043d\u0438 class UpdateBooking ( UpdateView ): model = Reservation fields = [ 'room' , 'arrival_date' , 'departure_date' ] template_name = 'update_book.html' success_url = '/my_bookings/' #\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0431\u0440\u043e\u043d\u0438 class DeleteBooking ( DeleteView ): model = Reservation template_name = 'del_book.html' success_url = '/my_bookings/' #\u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 def create_comment ( request ): data = {} form = CreateComment ( request . POST or None ) if form . is_valid (): form . save () data [ 'form' ] = form return render ( request , 'create_comment.html' , data ) #\u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 def all_comments ( request ): list_comments = { \"object_list\" : Comment . objects . all ()} return render ( request , 'all_comments.html' , list_comments ) #\u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0433\u043e\u0441\u0442\u0435\u0439 \u043e\u0442\u0435\u043b\u044f def get_hotel ( request ): hotel = request . POST . get ( 'hotel_name' ) if hotel : return redirect ( f \"/guests/ { hotel } \" ) else : return render ( request , 'hotel.html' ) def guests_list ( request , hotel_name ): guest_in_hotel = Reservation . objects . filter ( hotel = hotel_name ) . values_list ( 'guest' ) nedeed_guests = Guest . objects . filter ( passport__in = guest_in_hotel ) list_of_guests = { \"object_list\" : nedeed_guests , \"hotel_name\" : hotel_name } return render ( request , 'guests.html' , list_of_guests ) urls.py from django.urls import path from .views import * urlpatterns = [ path ( 'main/' , main_page , name = 'main_page' ), path ( \"registration/\" , RegGuests . as_view (), name = 'reg' ), path ( \"rooms/\" , RoomsList . as_view (), name = 'rooms' ), path ( \"book/\" , create_reservation , name = 'book' ), path ( \"my_bookings/\" , my_bookings , name = 'my_bookings' ), path ( \"users_bookings/<int:guest_passport>/\" , user_book ), path ( \"update_book/<int:pk>\" , UpdateBooking . as_view ()), path ( \"del_book/<int:pk>\" , DeleteBooking . as_view ()), path ( \"comment/\" , create_comment , name = 'comment' ), path ( 'all_comments/' , all_comments , name = 'all_comments' ), path ( 'hotel/' , get_hotel , name = 'hotel_info' ), path ( 'guests/<str:hotel_name>' , guests_list ) ] forms.py from django import forms from .models import Reservation , Comment class CreateReservation ( forms . ModelForm ): class Meta : model = Reservation fields = [ 'room' , 'guest' , 'arrival_date' , 'departure_date' ] class CreateComment ( forms . ModelForm ): class Meta : model = Comment fields = [ 'reservation' , 'text' , 'rate' , 'sing_author' ] \u0412\u0438\u0434\u0435\u043e \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u0435\u0440\u0432\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u0432\u0438\u0434\u0435\u043e \u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u0442\u043e\u0440\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u0432\u0438\u0434\u0435\u043e","title":"\u041b\u0430\u0431\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21162"},{"location":"lr2/#no2-1","text":"","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21162 - \u0412\u0430\u0440\u0438\u0430\u043d\u0442 1"},{"location":"lr2/#_1","text":"","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"},{"location":"lr2/#_2","text":"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f, \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043e\u0442\u0435\u043b\u044f, \u0430\u0434\u0440\u0435\u0441, \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435, \u0442\u0438\u043f\u044b \u043d\u043e\u043c\u0435\u0440\u043e\u0432, \u0441\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c, \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c, \u0443\u0434\u043e\u0431\u0441\u0442\u0432\u0430. \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b: \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439. \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438 \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043d\u043e\u043c\u0435\u0440\u043e\u0432. \u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u0441\u0432\u043e\u0438\u0445 \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439. \u041d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043e\u0442\u0437\u044b\u0432\u043e\u0432 \u043a \u043d\u043e\u043c\u0435\u0440\u0430\u043c. \u041f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0438 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432, \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0442\u044c\u0441\u044f \u043f\u0435\u0440\u0438\u043e\u0434 \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f, \u0442\u0435\u043a\u0441\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f, \u0440\u0435\u0439\u0442\u0438\u043d\u0433 (1-10), \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0442\u043e\u0440\u0435. \u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0438\u043c\u0435\u0442\u044c \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0441\u0435\u043b\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u043e\u0442\u0435\u043b\u044c \u0438 \u0432\u044b\u0441\u0435\u043b\u0438\u0442\u044c \u0438\u0437 \u043e\u0442\u0435\u043b\u044f \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 Django-admin. \u0412 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0442\u0430\u0431\u043b\u0438\u0446\u0430, \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0449\u0430\u044f \u043f\u043e\u0441\u0442\u043e\u044f\u043b\u044c\u0446\u0435\u0432 \u043e\u0442\u0435\u043b\u044f \u0437\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043c\u0435\u0441\u044f\u0446.","title":"\u0421\u043f\u0438\u0441\u043e\u043a \u043e\u0442\u0435\u043b\u0435\u0439."},{"location":"lr2/#_3","text":"","title":"\u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"},{"location":"lr2/#_4","text":"models.py from tabnanny import verbose from django.db import models from django.core.validators import MinValueValidator , MaxValueValidator from django.core.exceptions import ValidationError from django.db.models import Q from datetime import timedelta class Hotel ( models . Model ): name = models . CharField ( \"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043e\u0442\u0435\u043b\u044f\" , primary_key = True , max_length = 255 ) address = models . CharField ( \"\u0410\u0434\u0440\u0435\u0441\" , max_length = 255 ) stars = models . PositiveSmallIntegerField ( \"\u0420\u0435\u0439\u0442\u0438\u043d\u0433\" , validators = [ MinValueValidator ( 1 ), MaxValueValidator ( 5 )]) owner = models . CharField ( \"\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446 \u043e\u0442\u0435\u043b\u044f\" , max_length = 255 ) def __str__ ( self ): return f \" { self . stars } -star hotel { self . name } \" class Room ( models . Model ): number_room = models . IntegerField ( \"\u041d\u043e\u043c\u0435\u0440 \u043a\u043e\u043c\u043d\u0430\u0442\u044b\" , primary_key = True ) hotel = models . ForeignKey ( Hotel , on_delete = models . CASCADE , verbose_name = \"\u041e\u0442\u0435\u043b\u044c\" ) type_room = models . CharField ( \"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043d\u0430\u0442\u044b\" , max_length = 100 ) beds = models . PositiveSmallIntegerField ( \"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043f\u0430\u043b\u044c\u043d\u044b\u0445 \u043c\u0435\u0441\u0442\" , validators = [ MinValueValidator ( 1 )]) room_price = models . PositiveIntegerField ( \"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u043e\u043c\u0435\u0440\u0430\" ) class Meta : # One hotel can't have two rooms with the same number unique_together = ( 'hotel' , 'number_room' ) def __str__ ( self ): return f \"Room { self . number_room } of hotel { self . hotel . name } \" class Guest ( models . Model ): first_name = models . CharField ( \"\u0418\u043c\u044f\" , max_length = 30 , null = False ) last_name = models . CharField ( \"\u0424\u0430\u043c\u0438\u043b\u0438\u044f\" , max_length = 30 , null = False ) passport = models . CharField ( \"\u041d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430\" , primary_key = True , max_length = 30 ) def __str__ ( self ): return f \"\u0413\u043e\u0441\u0442\u044c { self . last_name } { self . first_name } \" class Reservation ( models . Model ): order_number = models . AutoField ( \"\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430\" , primary_key = True ) room = models . ForeignKey ( Room , on_delete = models . CASCADE ) hotel = models . ForeignKey ( Hotel , on_delete = models . CASCADE , default = \"\u0420\u043e\u043c\u0430\u0448\u043a\u0430\" ) guest = models . ForeignKey ( Guest , on_delete = models . CASCADE , verbose_name = \"\u0413\u043e\u0441\u0442\u044c\" ) arrival_date = models . DateField ( \"\u0414\u0430\u0442\u0430 \u0437\u0430\u0435\u0437\u0434\u0430\" ) departure_date = models . DateField ( \"\u0414\u0430\u0442\u0430 \u0432\u044b\u0435\u0437\u0434\u0430\" ) price = models . PositiveIntegerField ( \"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043f\u0440\u043e\u0436\u0438\u0432\u0430\u043d\u0438\u044f\" ) booking_date = models . DateTimeField ( \"\u0414\u0430\u0442\u0430 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\" , auto_now_add = True ) @property def duration ( self ): return ( self . departure_date - self . arrival_date ) . days def clean ( self ): # Check that start < end if self . arrival_date >= self . departure_date : raise ValidationError ( \"Duration date must be greater than start date\" ) def save ( self , * args , ** kwargs ): # Calculate the price based on number of nights at the hotel self . price = self . room . room_price * self . duration super ( Reservation , self ) . save ( * args , ** kwargs ) def __str__ ( self ): return f \"Booking { self . pk } in hotel { self . room . hotel . name } from { self . arrival_date } to { self . departure_date } \" class Comment ( models . Model ): reservation = models . ForeignKey ( Reservation , on_delete = models . CASCADE , verbose_name = \"\u041a\u043e\u0434 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f\" ) date_start = models . DateField ( \"\u0414\u0430\u0442\u0430 \u0437\u0430\u0435\u0437\u0434\u0430\" ) date_end = models . DateField ( \"\u0414\u0430\u0442\u0430 \u0432\u044b\u0435\u0437\u0434\u0430\" ) text = models . TextField ( \"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439\" , null = False ) rate = models . IntegerField ( \"\u041e\u0446\u0435\u043d\u043a\u0430\" , default = 10 , validators = [ MaxValueValidator ( 10 ), MinValueValidator ( 1 )]) sing_author = models . CharField ( \"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0432\u0430\u0448 \u043d\u0438\u043a\" , max_length = 30 ) def save ( self , * args , ** kwargs ): # Calculate the price based on number of nights at the hotel self . date_start = self . reservation . arrival_date self . date_end = self . reservation . departure_date super ( Comment , self ) . save ( * args , ** kwargs ) views.py from django.shortcuts import render , redirect from msilib.schema import ListView from django.http import Http404 from .models import Hotel , Reservation , Room , Guest , Comment from django.views.generic import ListView , UpdateView , CreateView , DeleteView from .forms import CreateComment , CreateReservation #\u0434\u043b\u044f \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b def main_page ( request ): return render ( request , 'main_page.html' ) #\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f class RegGuests ( CreateView ): model = Guest fields = [ \"first_name\" , \"last_name\" , \"passport\" , ] template_name = \"register_guests.html\" #\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0432\u0441\u0435\u0445 \u043d\u043e\u043c\u0435\u0440\u043e\u0432 class RoomsList ( ListView ): model = Room template_name = 'list_rooms.html' #\u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 def create_reservation ( request ): data = {} form = CreateReservation ( request . POST or None ) if form . is_valid (): form . save () data [ 'form' ] = form return render ( request , 'create_reservation.html' , data ) #\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f def user_book ( request , guest_passport ): need_book = Reservation . objects . filter ( guest = guest_passport ) current_book = { \"object_list\" : need_book } return render ( request , 'users_bookings.html' , current_book ) #\u043e\u0442\u0431\u043e\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430 \u0431\u0440\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0439 def my_bookings ( request ): try : passport = int ( request . POST . get ( 'passport_user' )) return redirect ( f \"/users_bookings/ { passport } /\" ) except : return render ( request , \"my_bookings.html\" ) #\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0440\u043e\u043d\u0438 class UpdateBooking ( UpdateView ): model = Reservation fields = [ 'room' , 'arrival_date' , 'departure_date' ] template_name = 'update_book.html' success_url = '/my_bookings/' #\u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0431\u0440\u043e\u043d\u0438 class DeleteBooking ( DeleteView ): model = Reservation template_name = 'del_book.html' success_url = '/my_bookings/' #\u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 def create_comment ( request ): data = {} form = CreateComment ( request . POST or None ) if form . is_valid (): form . save () data [ 'form' ] = form return render ( request , 'create_comment.html' , data ) #\u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 def all_comments ( request ): list_comments = { \"object_list\" : Comment . objects . all ()} return render ( request , 'all_comments.html' , list_comments ) #\u0442\u0430\u0431\u043b\u0438\u0446\u0430 \u0433\u043e\u0441\u0442\u0435\u0439 \u043e\u0442\u0435\u043b\u044f def get_hotel ( request ): hotel = request . POST . get ( 'hotel_name' ) if hotel : return redirect ( f \"/guests/ { hotel } \" ) else : return render ( request , 'hotel.html' ) def guests_list ( request , hotel_name ): guest_in_hotel = Reservation . objects . filter ( hotel = hotel_name ) . values_list ( 'guest' ) nedeed_guests = Guest . objects . filter ( passport__in = guest_in_hotel ) list_of_guests = { \"object_list\" : nedeed_guests , \"hotel_name\" : hotel_name } return render ( request , 'guests.html' , list_of_guests ) urls.py from django.urls import path from .views import * urlpatterns = [ path ( 'main/' , main_page , name = 'main_page' ), path ( \"registration/\" , RegGuests . as_view (), name = 'reg' ), path ( \"rooms/\" , RoomsList . as_view (), name = 'rooms' ), path ( \"book/\" , create_reservation , name = 'book' ), path ( \"my_bookings/\" , my_bookings , name = 'my_bookings' ), path ( \"users_bookings/<int:guest_passport>/\" , user_book ), path ( \"update_book/<int:pk>\" , UpdateBooking . as_view ()), path ( \"del_book/<int:pk>\" , DeleteBooking . as_view ()), path ( \"comment/\" , create_comment , name = 'comment' ), path ( 'all_comments/' , all_comments , name = 'all_comments' ), path ( 'hotel/' , get_hotel , name = 'hotel_info' ), path ( 'guests/<str:hotel_name>' , guests_list ) ] forms.py from django import forms from .models import Reservation , Comment class CreateReservation ( forms . ModelForm ): class Meta : model = Reservation fields = [ 'room' , 'guest' , 'arrival_date' , 'departure_date' ] class CreateComment ( forms . ModelForm ): class Meta : model = Comment fields = [ 'reservation' , 'text' , 'rate' , 'sing_author' ]","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u0441 \u043a\u043e\u0434\u043e\u043c"},{"location":"lr2/#_5","text":"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043f\u0435\u0440\u0432\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u0432\u0438\u0434\u0435\u043e \u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u0442\u043e\u0440\u0443\u044e \u0447\u0430\u0441\u0442\u044c \u0432\u0438\u0434\u0435\u043e","title":"\u0412\u0438\u0434\u0435\u043e \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f"},{"location":"lr3/","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b \u0417\u0430\u0434\u0430\u043d\u0438\u0435 2. \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u0443\u044e \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u043e\u0432 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438. \u0422\u0430\u043a\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0442\u044c \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439 \u043e\u0431 \u0438\u043c\u0435\u044e\u0449\u0438\u0445\u0441\u044f \u0432 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0435 \u043a\u043d\u0438\u0433\u0430\u0445, \u043e \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f\u0445 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0438 \u0447\u0438\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0437\u0430\u043b\u0430\u0445. \u0414\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0439 \u043a\u043d\u0438\u0433\u0438 \u0432 \u0411\u0414 \u0434\u043e\u043b\u0436\u043d\u044b \u0445\u0440\u0430\u043d\u0438\u0442\u044c\u0441\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f: \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438, \u0430\u0432\u0442\u043e\u0440 (\u044b), \u0438\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e, \u0433\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b, \u0447\u0438\u0441\u043b\u043e \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u043e\u0432 \u044d\u0442\u043e\u0439 \u043a\u043d\u0438\u0433\u0438 \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0437\u0430\u043b\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0448\u0438\u0444\u0440 \u043a\u043d\u0438\u0433\u0438 \u0438 \u0434\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u044f \u043a\u043d\u0438\u0433\u0438 \u0437\u0430 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u0435\u043c. \u041a\u043d\u0438\u0433\u0438 \u043c\u043e\u0433\u0443\u0442 \u043f\u0435\u0440\u0435\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u0434\u0440\u0443\u0433\u043e\u043c \u0437\u0430\u043b\u0435. \u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f\u0445 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u0430, \u0424\u0418\u041e \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f, \u043d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430, \u0434\u0430\u0442\u0443 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f, \u0430\u0434\u0440\u0435\u0441, \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430, \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435, \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0443\u0447\u0435\u043d\u043e\u0439 \u0441\u0442\u0435\u043f\u0435\u043d\u0438. \u0427\u0438\u0442\u0430\u0442\u0435\u043b\u0438 \u0437\u0430\u043a\u0440\u0435\u043f\u043b\u044f\u044e\u0442\u0441\u044f \u0437\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u043c \u0437\u0430\u043b\u043e\u043c, \u043c\u043e\u0433\u0443\u0442 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u0432 \u0434\u0440\u0443\u0433\u043e\u0439 \u0437\u0430\u043b \u0438 \u043c\u043e\u0433\u0443\u0442 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u0432\u044b\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0438\u0437 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438. \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0438\u043c\u0435\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0447\u0438\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0437\u0430\u043b\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0437\u0443\u044e\u0442\u0441\u044f \u043d\u043e\u043c\u0435\u0440\u043e\u043c, \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c \u0438 \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c\u044e, \u0442\u043e \u0435\u0441\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u043c \u043b\u044e\u0434\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0432 \u0437\u0430\u043b\u0435. \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u043a\u043d\u0438\u0433\u0438 \u0438 \u0441\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0440\u044b\u0435. \u0428\u0438\u0444\u0440 \u043a\u043d\u0438\u0433\u0438 \u043c\u043e\u0436\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0441\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438, \u0430 \u043d\u043e\u043c\u0435\u0440 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u0430 \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u043f\u0435\u0440\u0435\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438. \u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u0441 \u043a\u043e\u0434\u043e\u043c models.py - \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0438 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 class User ( AbstractUser ): tel = models . CharField ( verbose_name = '\u0422\u0435\u043b\u0435\u0444\u043e\u043d' , max_length = 15 , null = True , blank = True ) REQUIRED_FIELDS = [ 'first_name' , 'last_name' , 'tel' ] def __str__ ( self ): return self . username class BookRoom ( models . Model ): book = models . ForeignKey ( 'Instance' , verbose_name = '\u041a\u043d\u0438\u0433\u0430' , on_delete = CASCADE ) room = models . ForeignKey ( 'Room' , verbose_name = '\u0417\u0430\u043b' , on_delete = CASCADE ) class Instance ( models . Model ): id_instance = models . AutoField ( \"ID_\u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430\" , primary_key = True ) section = models . CharField ( max_length = 20 , verbose_name = '\u0420\u0430\u0437\u0434\u0435\u043b' ) code = models . CharField ( max_length = 20 , verbose_name = '\u0410\u0440\u0442\u0438\u043a\u0443\u043b' ) year = models . IntegerField ( verbose_name = '\u0413\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f' ) conditions = ( ( '\u0445' , '\u0445\u043e\u0440\u043e\u0448\u0435\u0435' ), ( '\u0443' , '\u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435' ), ( '\u0441' , '\u0441\u0442\u0430\u0440\u043e\u0435' ), ) condition = models . CharField ( max_length = 1 , choices = conditions , verbose_name = '\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430' ) book = models . ForeignKey ( 'Book' , verbose_name = '\u041a\u043d\u0438\u0433\u0430' , on_delete = CASCADE ) def __str__ ( self ): return self . code class Book ( models . Model ): id_book = models . AutoField ( \"ID_\u043a\u043d\u0438\u0433\u0438\" , primary_key = True ) name = models . CharField ( max_length = 50 , verbose_name = '\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435' ) author = models . CharField ( max_length = 70 , verbose_name = \"\u0424\u0418\u041e \u0430\u0432\u0442\u043e\u0440\u0430\" ) publisher = models . CharField ( max_length = 30 , verbose_name = '\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e' ) def __str__ ( self ): return self . name class Reader ( models . Model ): ticket = models . CharField ( max_length = 20 , verbose_name = '\u041d\u043e\u043c\u0435\u0440 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u0430' ) name = models . CharField ( max_length = 70 , verbose_name = \"\u0424\u0418\u041e\" ) passport = models . CharField ( max_length = 20 , verbose_name = '\u041d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430' ) birth_date = models . DateField ( verbose_name = '\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f' ) address = models . CharField ( max_length = 100 , verbose_name = '\u0410\u0434\u0440\u0435\u0441' ) phone_number = models . CharField ( max_length = 20 , verbose_name = '\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430' ) educations = ( ( '\u043d' , '\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435' ), ( '\u0441' , '\u0441\u0440\u0435\u0434\u043d\u0435\u0435' ), ( '\u0432' , '\u0432\u044b\u0441\u0448\u0435\u0435' ), ) education = models . CharField ( max_length = 1 , choices = educations , verbose_name = '\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435' ) degree = models . BooleanField ( default = False , verbose_name = '\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u0443\u0447\u0435\u043d\u043e\u0439 \u0441\u0442\u0435\u043f\u0435\u043d\u0438' ) registration_date = models . DateField ( verbose_name = '\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438' ) instances = models . ManyToManyField ( 'Instance' , verbose_name = '\u0412\u0437\u044f\u0442\u044b\u0435 \u043a\u043d\u0438\u0433\u0438' , through = 'ReaderBook' , related_name = 'reader_book' ) room = models . ForeignKey ( 'Room' , verbose_name = '\u0417\u0430\u043b, \u0437\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0437\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044c' , on_delete = CASCADE , null = True ) def __str__ ( self ): return self . name class ReaderRoom ( models . Model ): reader = models . ForeignKey ( 'Reader' , verbose_name = '\u0427\u0438\u0442\u0430\u0442\u0435\u043b\u044c' , on_delete = CASCADE ) room = models . ForeignKey ( 'Room' , verbose_name = '\u0417\u0430\u043b' , on_delete = CASCADE ) date = models . DateField ( verbose_name = '\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043b\u0430' , null = True ) class ReaderBook ( models . Model ): reader = models . ForeignKey ( 'Reader' , verbose_name = '\u0427\u0438\u0442\u0430\u0442\u0435\u043b\u044c' , on_delete = CASCADE ) book = models . ForeignKey ( 'Instance' , verbose_name = '\u041a\u043d\u0438\u0433\u0430' , on_delete = CASCADE ) date = models . DateField ( verbose_name = '\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430 \u043a\u043d\u0438\u0433\u0438' , null = True ) class Room ( models . Model ): name = models . CharField ( max_length = 20 , verbose_name = '\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435' ) capacity = models . IntegerField ( verbose_name = '\u0412\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c' ) books = models . ManyToManyField ( 'Instance' , verbose_name = '\u041a\u043d\u0438\u0433\u0438' , through = 'BookRoom' , related_name = 'book_room' ) def __str__ ( self ): return self . name views.py - \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b \u0441\u0430\u0439\u0442\u0430 #\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f\u0445 class ReaderListAPIView ( ListAPIView ): # permission_classes = [IsAuthenticated] serializer_class = ReaderSerializer queryset = Reader . objects . all () #\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f class CreateReader ( CreateAPIView ): permission_classes = [ IsAuthenticated ] serializer_class = ReaderSerializer queryset = Reader . objects . all () #\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0432\u0441\u0435\u0445 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0439 \u0432 \u0431\u0438\u0431\u0438\u043b\u0438\u043e\u0442\u0435\u043a\u0435 class BookListAPIView ( ListAPIView ): permission_classes = [ IsAuthenticated ] serializer_class = BookSerializer queryset = Book . objects . all () #\u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432 \u0431\u0438\u0431\u0438\u043b\u0438\u043e\u0442\u0435\u043a\u0435 class CreateBook ( CreateAPIView ): permission_classes = [ IsAuthenticated ] serializer_class = BookSerializer queryset = Book . objects . all () #\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u043e\u0432 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0439 class InstanceListAPIView ( ListAPIView ): permission_classes = [ IsAuthenticated ] serializer_class = InstanceSerializer queryset = Instance . objects . all () class CreateInstance ( CreateAPIView ): permission_classes = [ IsAuthenticated ] serializer_class = InstanceSerializer queryset = Instance . objects . all () #\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0439 class OneBook ( RetrieveUpdateDestroyAPIView ): permission_classes = [ IsAuthenticated ] serializer_class = BookSerializer queryset = Book . objects . all () #\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u043e\u0432 class OneInstance ( RetrieveUpdateDestroyAPIView ): permission_classes = [ IsAuthenticated ] serializer_class = InstanceSerializer queryset = Instance . objects . all () #\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u0435\u0439 class OneReader ( RetrieveUpdateDestroyAPIView ): permission_classes = [ IsAuthenticated ] serializer_class = ReaderSerializer queryset = Instance . objects . all () #\u0431\u0440\u043e\u043d\u044c \u043a\u043d\u0438\u0433\u0438 class BookInstance ( CreateAPIView ): serializer_class = ReaderBookSerializer queryset = ReaderBook . objects . all () permission_classes = [ IsAuthenticated ] def perform_create ( self , serializer ): serializer . save ( librarian = self . request . user ) #\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043a\u043e\u043c\u043d\u0430\u0442 class RoomListAPIView ( ListAPIView ): serializer_class = RoomSerializer queryset = Room . objects . all () permission_classes = [ IsAuthenticated ] #\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043d\u0430\u0442 class RoomCreateAPIView ( CreateAPIView ): serializer_class = RoomSerializer queryset = Room . objects . all () permission_classes = [ IsAuthenticated ] #\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043c\u043d\u0430\u0442 class OneRoom ( RetrieveUpdateDestroyAPIView ): serializer_class = RoomSerializer queryset = Room . objects . all () permission_classes = [ IsAuthenticated ] #\u0437\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438 \u0437\u0430 \u043a\u043e\u043c\u043d\u0430\u0442\u043e\u0439 class RoomBook ( CreateAPIView ): serializer_class = BookRoomSerializer queryset = BookRoom . objects . all () permission_classes = [ IsAuthenticated ] def perform_create ( self , serializer ): serializer . save ( librarian = self . request . user ) #\u0437\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f \u0437\u0430 \u043a\u043e\u043c\u043d\u0430\u0442\u043e\u0439 class RoomReader ( CreateAPIView ): serializer_class = ReaderRoomSerializer queryset = ReaderRoom . objects . all () permission_classes = [ IsAuthenticated ] def perform_create ( self , serializer ): serializer . save ( librarian = self . request . user ) serializers.py - \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043c\u043e\u0435\u0439 \u0411\u0414 \u0432 \u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0442\u0438\u043f\u044b \u0434\u0430\u043d\u043d\u044b\u0445 Python class ReaderSerializer ( serializers . ModelSerializer ): books = serializers . SlugRelatedField ( read_only = True , many = True , slug_field = 'books' ) class Meta : model = Reader fields = \"__all__\" class BookSerializer ( serializers . ModelSerializer ): class Meta : model = Book fields = \"__all__\" class InstanceSerializer ( serializers . ModelSerializer ): class Meta : model = Instance fields = \"__all__\" class ReaderBookSerializer ( serializers . ModelSerializer ): class Meta : model = ReaderBook fields = \"__all__\" class RoomSerializer ( serializers . ModelSerializer ): books = serializers . SlugRelatedField ( read_only = True , many = True , slug_field = 'name' ) class Meta : model = Room fields = \"__all__\" class BookRoomSerializer ( serializers . ModelSerializer ): class Meta : model = BookRoom fields = \"__all__\" class ReaderRoomSerializer ( serializers . ModelSerializer ): class Meta : model = ReaderRoom fields = \"__all__\" urls.py - \u0441\u0432\u044f\u0437\u044c \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0439 \u0438 url - \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 urlpatterns = [ path ( 'readers/list/' , ReaderListAPIView . as_view ()), path ( 'readers/create/' , CreateReader . as_view ()), path ( 'readers/<int:pk>/' , OneReader . as_view ()), path ( 'books/list/' , BookListAPIView . as_view ()), path ( 'books/create/' , CreateBook . as_view ()), path ( 'books/<int:pk>/' , OneBook . as_view ()), path ( 'inst/list/' , InstanceListAPIView . as_view ()), path ( 'inst/create/' , CreateInstance . as_view ()), path ( 'inst/<int:pk>/' , OneInstance . as_view ()), path ( 'rooms/list/' , RoomListAPIView . as_view ()), path ( 'rooms/<int:pk>/' , OneRoom . as_view ()), path ( 'rooms/create/' , RoomCreateAPIView . as_view ()), path ( 'book/inst/' , BookInstance . as_view ()), path ( 'book/room/' , RoomBook . as_view ()), path ( 'book/readers/' , RoomReader . as_view ()), ] API \u041c\u0435\u0442\u043e\u0434 HTTP \u0437\u0430\u043f\u0440\u043e\u0441 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 auth_token_login_create POST /auth/token/login/ \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0442\u043e\u043a\u0435\u043d\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 auth_token_logout_create POST /auth/token/logout/ \u0412\u044b\u0445\u043e\u0434 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b auth_users_activation POST /auth/users/activation/ \u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 auth_users_create POST /auth/users/ \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f auth_users_delete DELETE /auth/users/{id}/ \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f auth_users_list GET /auth/users/ \u0421\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 auth_users_me_delete DELETE /auth/users/me/ \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f auth_users_me_update PUT /auth/users/me/ \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e\u0431 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 auth_users_me_read GET /auth/users/me/ \u0412\u044b\u0432\u043e\u0434 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e\u0431 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 auth_users_read GET /auth/users/{id}/ \u0412\u044b\u0432\u043e\u0434 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 \u043f\u043e id auth_users_resend_activation POST /auth/users/resend_activation/ \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u043f\u0438\u0441\u044c\u043c\u0430 \u043f\u043e \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u0435 auth_users_reset_password POST /auth/users/reset_password/ \u0421\u043c\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f auth_users_reset_password_confirm POST /auth/users/reset_password_confirm/ \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0441\u043c\u0435\u043d\u044b \u043f\u0430\u0440\u043e\u043b\u044f (\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0441\u043c\u0435\u043d\u044b \u043f\u0430\u0440\u043e\u043b\u044f) auth_users_reset_username POST /auth/users/reset_username/ \u0421\u043c\u0435\u043d\u0430 \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430 auth_users_reset_username_confirm POST /auth/users/reset_username_confirm/ \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0441\u043c\u0435\u043d\u044b \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430 (\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0441\u043c\u0435\u043d\u044b \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430) auth_users_set_password POST /auth/users/set_password/ \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f auth_users_set_username POST /api/auth/users/set_username/ \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430 auth_users_update PUT /auth/users/{id}/ \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 \u043f\u043e id library_readers_list GET /library/readers/list/ \u0421\u043f\u0438\u0441\u043e\u043a \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u0435\u0439 library_readers_create POST /library/readers/create/ \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f library_readers_read GET /library/readers/read/{id} \u0412\u044b\u0432\u043e\u0434 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u0435 library_readers_partial_update PUTCH /library/readers/{id} \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 library_readers_delete DELETE /library/readers/{id} \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f library_books_list GET /library/books/list/ \u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0439 \u0432 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0435 library_books_create POST /library/books/create/ \u041f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f library_books_read GET /library/books/read/{id_book} \u0412\u044b\u0432\u043e\u0434 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0438 library_books_partial_update PUTCH /library/books/{id_book} \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0438 library_books_delete DELETE /library/books/{id} \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f library_inst_list GET /library/inst/list/ \u0421\u043f\u0438\u0441\u043e\u043a \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u043e\u0432 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f library_inst_create POST /library/inst/create/ \u041f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430 library_inst_read GET /library/inst/read/{id_instance} \u0412\u044b\u0432\u043e\u0434 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0435 library_inst_partial_update PUTCH /library/inst/{id_instance} \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0435 library_inst_delete DELETE /library/inst/{id_instance} \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430 library_rooms_list GET /library/rooms/list/ \u0421\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u043a\u043e\u043c\u043d\u0430\u0442 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 library_rooms_create POST /library/rooms/create/ \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0439 \u043a\u043e\u043c\u043d\u0430\u0442\u044b \u0432 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0435 library_rooms_read GET /library/rooms/read/{id_instance} \u0412\u044b\u0432\u043e\u0434 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u043a\u043e\u043c\u043d\u0430\u0442\u0435 library_rooms_partial_update PUTCH /library/rooms/{id} \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u043a\u043e\u043c\u043d\u0430\u0442\u0435 library_rooms_delete DELETE /library/rooms/{id} \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043c\u043d\u0430\u0442\u044b library_book_inst POST /library/book/inst/ \u0417\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430 \u0437\u0430 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u0435\u043c library_book_readers POST /library/book/readers/ \u0417\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f \u0437\u0430 \u043a\u043e\u043c\u043d\u0430\u0442\u043e\u0439 library_book_room POST /library/book/room/ \u0417\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430 \u0437\u0430 \u043a\u043e\u043c\u043d\u0430\u0442\u043e\u0439","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21163"},{"location":"lr3/#_1","text":"","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"},{"location":"lr3/#2","text":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u043d\u0443\u044e \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u043f\u0440\u0435\u0434\u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u043d\u0443\u044e \u0434\u043b\u044f \u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u043e\u0432 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438. \u0422\u0430\u043a\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0434\u043e\u043b\u0436\u043d\u0430 \u043e\u0431\u0435\u0441\u043f\u0435\u0447\u0438\u0432\u0430\u0442\u044c \u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u0439 \u043e\u0431 \u0438\u043c\u0435\u044e\u0449\u0438\u0445\u0441\u044f \u0432 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0435 \u043a\u043d\u0438\u0433\u0430\u0445, \u043e \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f\u0445 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0438 \u0447\u0438\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0437\u0430\u043b\u0430\u0445. \u0414\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0439 \u043a\u043d\u0438\u0433\u0438 \u0432 \u0411\u0414 \u0434\u043e\u043b\u0436\u043d\u044b \u0445\u0440\u0430\u043d\u0438\u0442\u044c\u0441\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f: \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438, \u0430\u0432\u0442\u043e\u0440 (\u044b), \u0438\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e, \u0433\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f, \u0440\u0430\u0437\u0434\u0435\u043b, \u0447\u0438\u0441\u043b\u043e \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u043e\u0432 \u044d\u0442\u043e\u0439 \u043a\u043d\u0438\u0433\u0438 \u0432 \u043a\u0430\u0436\u0434\u043e\u043c \u0437\u0430\u043b\u0435 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438, \u0430 \u0442\u0430\u043a\u0436\u0435 \u0448\u0438\u0444\u0440 \u043a\u043d\u0438\u0433\u0438 \u0438 \u0434\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u044f \u043a\u043d\u0438\u0433\u0438 \u0437\u0430 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u0435\u043c. \u041a\u043d\u0438\u0433\u0438 \u043c\u043e\u0433\u0443\u0442 \u043f\u0435\u0440\u0435\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u0434\u0440\u0443\u0433\u043e\u043c \u0437\u0430\u043b\u0435. \u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f\u0445 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u044b \u0432\u043a\u043b\u044e\u0447\u0430\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u0430, \u0424\u0418\u041e \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f, \u043d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430, \u0434\u0430\u0442\u0443 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f, \u0430\u0434\u0440\u0435\u0441, \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430, \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435, \u043d\u0430\u043b\u0438\u0447\u0438\u0435 \u0443\u0447\u0435\u043d\u043e\u0439 \u0441\u0442\u0435\u043f\u0435\u043d\u0438. \u0427\u0438\u0442\u0430\u0442\u0435\u043b\u0438 \u0437\u0430\u043a\u0440\u0435\u043f\u043b\u044f\u044e\u0442\u0441\u044f \u0437\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u043d\u044b\u043c \u0437\u0430\u043b\u043e\u043c, \u043c\u043e\u0433\u0443\u0442 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u0432 \u0434\u0440\u0443\u0433\u043e\u0439 \u0437\u0430\u043b \u0438 \u043c\u043e\u0433\u0443\u0442 \u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0438 \u0432\u044b\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c\u0441\u044f \u0438\u0437 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438. \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u0438\u043c\u0435\u0435\u0442 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u0447\u0438\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0437\u0430\u043b\u043e\u0432, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0437\u0443\u044e\u0442\u0441\u044f \u043d\u043e\u043c\u0435\u0440\u043e\u043c, \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c \u0438 \u0432\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c\u044e, \u0442\u043e \u0435\u0441\u0442\u044c \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u043c \u043b\u044e\u0434\u0435\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043c\u043e\u0433\u0443\u0442 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0442\u044c \u0432 \u0437\u0430\u043b\u0435. \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0435 \u043a\u043d\u0438\u0433\u0438 \u0438 \u0441\u043f\u0438\u0441\u044b\u0432\u0430\u0442\u044c \u0441\u0442\u0430\u0440\u044b\u0435. \u0428\u0438\u0444\u0440 \u043a\u043d\u0438\u0433\u0438 \u043c\u043e\u0436\u0435\u0442 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c\u0441\u044f \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u043f\u0435\u0440\u0435\u043a\u043b\u0430\u0441\u0441\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438, \u0430 \u043d\u043e\u043c\u0435\u0440 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u0430 \u0432 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u0435 \u043f\u0435\u0440\u0435\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438.","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 2. \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430"},{"location":"lr3/#_2","text":"","title":"\u0411\u0430\u0437\u0430 \u0434\u0430\u043d\u043d\u044b\u0445"},{"location":"lr3/#_3","text":"models.py - \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0438 \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 class User ( AbstractUser ): tel = models . CharField ( verbose_name = '\u0422\u0435\u043b\u0435\u0444\u043e\u043d' , max_length = 15 , null = True , blank = True ) REQUIRED_FIELDS = [ 'first_name' , 'last_name' , 'tel' ] def __str__ ( self ): return self . username class BookRoom ( models . Model ): book = models . ForeignKey ( 'Instance' , verbose_name = '\u041a\u043d\u0438\u0433\u0430' , on_delete = CASCADE ) room = models . ForeignKey ( 'Room' , verbose_name = '\u0417\u0430\u043b' , on_delete = CASCADE ) class Instance ( models . Model ): id_instance = models . AutoField ( \"ID_\u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430\" , primary_key = True ) section = models . CharField ( max_length = 20 , verbose_name = '\u0420\u0430\u0437\u0434\u0435\u043b' ) code = models . CharField ( max_length = 20 , verbose_name = '\u0410\u0440\u0442\u0438\u043a\u0443\u043b' ) year = models . IntegerField ( verbose_name = '\u0413\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f' ) conditions = ( ( '\u0445' , '\u0445\u043e\u0440\u043e\u0448\u0435\u0435' ), ( '\u0443' , '\u0443\u0434\u043e\u0432\u043b\u0435\u0442\u0432\u043e\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0435' ), ( '\u0441' , '\u0441\u0442\u0430\u0440\u043e\u0435' ), ) condition = models . CharField ( max_length = 1 , choices = conditions , verbose_name = '\u0421\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430' ) book = models . ForeignKey ( 'Book' , verbose_name = '\u041a\u043d\u0438\u0433\u0430' , on_delete = CASCADE ) def __str__ ( self ): return self . code class Book ( models . Model ): id_book = models . AutoField ( \"ID_\u043a\u043d\u0438\u0433\u0438\" , primary_key = True ) name = models . CharField ( max_length = 50 , verbose_name = '\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435' ) author = models . CharField ( max_length = 70 , verbose_name = \"\u0424\u0418\u041e \u0430\u0432\u0442\u043e\u0440\u0430\" ) publisher = models . CharField ( max_length = 30 , verbose_name = '\u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e' ) def __str__ ( self ): return self . name class Reader ( models . Model ): ticket = models . CharField ( max_length = 20 , verbose_name = '\u041d\u043e\u043c\u0435\u0440 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u0430' ) name = models . CharField ( max_length = 70 , verbose_name = \"\u0424\u0418\u041e\" ) passport = models . CharField ( max_length = 20 , verbose_name = '\u041d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430' ) birth_date = models . DateField ( verbose_name = '\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f' ) address = models . CharField ( max_length = 100 , verbose_name = '\u0410\u0434\u0440\u0435\u0441' ) phone_number = models . CharField ( max_length = 20 , verbose_name = '\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430' ) educations = ( ( '\u043d' , '\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e\u0435' ), ( '\u0441' , '\u0441\u0440\u0435\u0434\u043d\u0435\u0435' ), ( '\u0432' , '\u0432\u044b\u0441\u0448\u0435\u0435' ), ) education = models . CharField ( max_length = 1 , choices = educations , verbose_name = '\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435' ) degree = models . BooleanField ( default = False , verbose_name = '\u041d\u0430\u043b\u0438\u0447\u0438\u0435 \u0443\u0447\u0435\u043d\u043e\u0439 \u0441\u0442\u0435\u043f\u0435\u043d\u0438' ) registration_date = models . DateField ( verbose_name = '\u0414\u0430\u0442\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438' ) instances = models . ManyToManyField ( 'Instance' , verbose_name = '\u0412\u0437\u044f\u0442\u044b\u0435 \u043a\u043d\u0438\u0433\u0438' , through = 'ReaderBook' , related_name = 'reader_book' ) room = models . ForeignKey ( 'Room' , verbose_name = '\u0417\u0430\u043b, \u0437\u0430 \u043a\u043e\u0442\u043e\u0440\u044b\u043c \u0437\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044c' , on_delete = CASCADE , null = True ) def __str__ ( self ): return self . name class ReaderRoom ( models . Model ): reader = models . ForeignKey ( 'Reader' , verbose_name = '\u0427\u0438\u0442\u0430\u0442\u0435\u043b\u044c' , on_delete = CASCADE ) room = models . ForeignKey ( 'Room' , verbose_name = '\u0417\u0430\u043b' , on_delete = CASCADE ) date = models . DateField ( verbose_name = '\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u044f \u0437\u0430\u043b\u0430' , null = True ) class ReaderBook ( models . Model ): reader = models . ForeignKey ( 'Reader' , verbose_name = '\u0427\u0438\u0442\u0430\u0442\u0435\u043b\u044c' , on_delete = CASCADE ) book = models . ForeignKey ( 'Instance' , verbose_name = '\u041a\u043d\u0438\u0433\u0430' , on_delete = CASCADE ) date = models . DateField ( verbose_name = '\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430 \u043a\u043d\u0438\u0433\u0438' , null = True ) class Room ( models . Model ): name = models . CharField ( max_length = 20 , verbose_name = '\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435' ) capacity = models . IntegerField ( verbose_name = '\u0412\u043c\u0435\u0441\u0442\u0438\u043c\u043e\u0441\u0442\u044c' ) books = models . ManyToManyField ( 'Instance' , verbose_name = '\u041a\u043d\u0438\u0433\u0438' , through = 'BookRoom' , related_name = 'book_room' ) def __str__ ( self ): return self . name views.py - \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b \u0441\u0430\u0439\u0442\u0430 #\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f\u0445 class ReaderListAPIView ( ListAPIView ): # permission_classes = [IsAuthenticated] serializer_class = ReaderSerializer queryset = Reader . objects . all () #\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f class CreateReader ( CreateAPIView ): permission_classes = [ IsAuthenticated ] serializer_class = ReaderSerializer queryset = Reader . objects . all () #\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0432\u0441\u0435\u0445 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0439 \u0432 \u0431\u0438\u0431\u0438\u043b\u0438\u043e\u0442\u0435\u043a\u0435 class BookListAPIView ( ListAPIView ): permission_classes = [ IsAuthenticated ] serializer_class = BookSerializer queryset = Book . objects . all () #\u043f\u043e\u044f\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u0432 \u0431\u0438\u0431\u0438\u043b\u0438\u043e\u0442\u0435\u043a\u0435 class CreateBook ( CreateAPIView ): permission_classes = [ IsAuthenticated ] serializer_class = BookSerializer queryset = Book . objects . all () #\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u043e\u0432 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0439 class InstanceListAPIView ( ListAPIView ): permission_classes = [ IsAuthenticated ] serializer_class = InstanceSerializer queryset = Instance . objects . all () class CreateInstance ( CreateAPIView ): permission_classes = [ IsAuthenticated ] serializer_class = InstanceSerializer queryset = Instance . objects . all () #\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0439 class OneBook ( RetrieveUpdateDestroyAPIView ): permission_classes = [ IsAuthenticated ] serializer_class = BookSerializer queryset = Book . objects . all () #\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u043e\u0432 class OneInstance ( RetrieveUpdateDestroyAPIView ): permission_classes = [ IsAuthenticated ] serializer_class = InstanceSerializer queryset = Instance . objects . all () #\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u0435\u0439 class OneReader ( RetrieveUpdateDestroyAPIView ): permission_classes = [ IsAuthenticated ] serializer_class = ReaderSerializer queryset = Instance . objects . all () #\u0431\u0440\u043e\u043d\u044c \u043a\u043d\u0438\u0433\u0438 class BookInstance ( CreateAPIView ): serializer_class = ReaderBookSerializer queryset = ReaderBook . objects . all () permission_classes = [ IsAuthenticated ] def perform_create ( self , serializer ): serializer . save ( librarian = self . request . user ) #\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043a\u043e\u043c\u043d\u0430\u0442 class RoomListAPIView ( ListAPIView ): serializer_class = RoomSerializer queryset = Room . objects . all () permission_classes = [ IsAuthenticated ] #\u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043d\u0430\u0442 class RoomCreateAPIView ( CreateAPIView ): serializer_class = RoomSerializer queryset = Room . objects . all () permission_classes = [ IsAuthenticated ] #\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043c\u043d\u0430\u0442 class OneRoom ( RetrieveUpdateDestroyAPIView ): serializer_class = RoomSerializer queryset = Room . objects . all () permission_classes = [ IsAuthenticated ] #\u0437\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438 \u0437\u0430 \u043a\u043e\u043c\u043d\u0430\u0442\u043e\u0439 class RoomBook ( CreateAPIView ): serializer_class = BookRoomSerializer queryset = BookRoom . objects . all () permission_classes = [ IsAuthenticated ] def perform_create ( self , serializer ): serializer . save ( librarian = self . request . user ) #\u0437\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f \u0437\u0430 \u043a\u043e\u043c\u043d\u0430\u0442\u043e\u0439 class RoomReader ( CreateAPIView ): serializer_class = ReaderRoomSerializer queryset = ReaderRoom . objects . all () permission_classes = [ IsAuthenticated ] def perform_create ( self , serializer ): serializer . save ( librarian = self . request . user ) serializers.py - \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043c\u043e\u0435\u0439 \u0411\u0414 \u0432 \u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u0442\u0438\u043f\u044b \u0434\u0430\u043d\u043d\u044b\u0445 Python class ReaderSerializer ( serializers . ModelSerializer ): books = serializers . SlugRelatedField ( read_only = True , many = True , slug_field = 'books' ) class Meta : model = Reader fields = \"__all__\" class BookSerializer ( serializers . ModelSerializer ): class Meta : model = Book fields = \"__all__\" class InstanceSerializer ( serializers . ModelSerializer ): class Meta : model = Instance fields = \"__all__\" class ReaderBookSerializer ( serializers . ModelSerializer ): class Meta : model = ReaderBook fields = \"__all__\" class RoomSerializer ( serializers . ModelSerializer ): books = serializers . SlugRelatedField ( read_only = True , many = True , slug_field = 'name' ) class Meta : model = Room fields = \"__all__\" class BookRoomSerializer ( serializers . ModelSerializer ): class Meta : model = BookRoom fields = \"__all__\" class ReaderRoomSerializer ( serializers . ModelSerializer ): class Meta : model = ReaderRoom fields = \"__all__\" urls.py - \u0441\u0432\u044f\u0437\u044c \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u0438\u0439 \u0438 url - \u0430\u0434\u0440\u0435\u0441\u043e\u0432 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 urlpatterns = [ path ( 'readers/list/' , ReaderListAPIView . as_view ()), path ( 'readers/create/' , CreateReader . as_view ()), path ( 'readers/<int:pk>/' , OneReader . as_view ()), path ( 'books/list/' , BookListAPIView . as_view ()), path ( 'books/create/' , CreateBook . as_view ()), path ( 'books/<int:pk>/' , OneBook . as_view ()), path ( 'inst/list/' , InstanceListAPIView . as_view ()), path ( 'inst/create/' , CreateInstance . as_view ()), path ( 'inst/<int:pk>/' , OneInstance . as_view ()), path ( 'rooms/list/' , RoomListAPIView . as_view ()), path ( 'rooms/<int:pk>/' , OneRoom . as_view ()), path ( 'rooms/create/' , RoomCreateAPIView . as_view ()), path ( 'book/inst/' , BookInstance . as_view ()), path ( 'book/room/' , RoomBook . as_view ()), path ( 'book/readers/' , RoomReader . as_view ()), ]","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u0441 \u043a\u043e\u0434\u043e\u043c"},{"location":"lr3/#api","text":"\u041c\u0435\u0442\u043e\u0434 HTTP \u0437\u0430\u043f\u0440\u043e\u0441 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 auth_token_login_create POST /auth/token/login/ \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u0442\u043e\u043a\u0435\u043d\u0430 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 auth_token_logout_create POST /auth/token/logout/ \u0412\u044b\u0445\u043e\u0434 \u0438\u0437 \u0441\u0438\u0441\u0442\u0435\u043c\u044b auth_users_activation POST /auth/users/activation/ \u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 auth_users_create POST /auth/users/ \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f auth_users_delete DELETE /auth/users/{id}/ \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f auth_users_list GET /auth/users/ \u0421\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 auth_users_me_delete DELETE /auth/users/me/ \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f auth_users_me_update PUT /auth/users/me/ \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e\u0431 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 auth_users_me_read GET /auth/users/me/ \u0412\u044b\u0432\u043e\u0434 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e\u0431 \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 auth_users_read GET /auth/users/{id}/ \u0412\u044b\u0432\u043e\u0434 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 \u043f\u043e id auth_users_resend_activation POST /auth/users/resend_activation/ \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0433\u043e \u043f\u0438\u0441\u044c\u043c\u0430 \u043f\u043e \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u0435 auth_users_reset_password POST /auth/users/reset_password/ \u0421\u043c\u0435\u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u044f auth_users_reset_password_confirm POST /auth/users/reset_password_confirm/ \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0441\u043c\u0435\u043d\u044b \u043f\u0430\u0440\u043e\u043b\u044f (\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0441\u043c\u0435\u043d\u044b \u043f\u0430\u0440\u043e\u043b\u044f) auth_users_reset_username POST /auth/users/reset_username/ \u0421\u043c\u0435\u043d\u0430 \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430 auth_users_reset_username_confirm POST /auth/users/reset_username_confirm/ \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0441\u043c\u0435\u043d\u044b \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430 (\u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0430 \u0441\u043c\u0435\u043d\u044b \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430) auth_users_set_password POST /auth/users/set_password/ \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f auth_users_set_username POST /api/auth/users/set_username/ \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u0438\u043a\u043d\u0435\u0439\u043c\u0430 auth_users_update PUT /auth/users/{id}/ \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 \u043f\u043e id library_readers_list GET /library/readers/list/ \u0421\u043f\u0438\u0441\u043e\u043a \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u0435\u0439 library_readers_create POST /library/readers/create/ \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f library_readers_read GET /library/readers/read/{id} \u0412\u044b\u0432\u043e\u0434 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u0435 library_readers_partial_update PUTCH /library/readers/{id} \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435 library_readers_delete DELETE /library/readers/{id} \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f library_books_list GET /library/books/list/ \u0421\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0439 \u0432 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0435 library_books_create POST /library/books/create/ \u041f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f library_books_read GET /library/books/read/{id_book} \u0412\u044b\u0432\u043e\u0434 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0438 library_books_partial_update PUTCH /library/books/{id_book} \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0438 library_books_delete DELETE /library/books/{id} \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f library_inst_list GET /library/inst/list/ \u0421\u043f\u0438\u0441\u043e\u043a \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u043e\u0432 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f library_inst_create POST /library/inst/create/ \u041f\u043e\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0432\u043e\u0433\u043e \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430 library_inst_read GET /library/inst/read/{id_instance} \u0412\u044b\u0432\u043e\u0434 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0435 library_inst_partial_update PUTCH /library/inst/{id_instance} \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0435 library_inst_delete DELETE /library/inst/{id_instance} \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430 library_rooms_list GET /library/rooms/list/ \u0421\u043f\u0438\u0441\u043e\u043a \u0432\u0441\u0435\u0445 \u043a\u043e\u043c\u043d\u0430\u0442 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 library_rooms_create POST /library/rooms/create/ \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u043e\u0432\u043e\u0439 \u043a\u043e\u043c\u043d\u0430\u0442\u044b \u0432 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0435 library_rooms_read GET /library/rooms/read/{id_instance} \u0412\u044b\u0432\u043e\u0434 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0439 \u043a\u043e\u043c\u043d\u0430\u0442\u0435 library_rooms_partial_update PUTCH /library/rooms/{id} \u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u043c \u043a\u043e\u043c\u043d\u0430\u0442\u0435 library_rooms_delete DELETE /library/rooms/{id} \u0423\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043c\u043d\u0430\u0442\u044b library_book_inst POST /library/book/inst/ \u0417\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430 \u0437\u0430 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u0435\u043c library_book_readers POST /library/book/readers/ \u0417\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f \u0437\u0430 \u043a\u043e\u043c\u043d\u0430\u0442\u043e\u0439 library_book_room POST /library/book/room/ \u0417\u0430\u043a\u0440\u0435\u043f\u043b\u0435\u043d\u0438\u0435 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u043e\u0433\u043e \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440\u0430 \u0437\u0430 \u043a\u043e\u043c\u043d\u0430\u0442\u043e\u0439","title":"API"},{"location":"lr4/","text":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21164: \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0433\u043e \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f (SPA) \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0430 Vue.JS \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b \u0417\u0430\u0434\u0430\u0447\u0430: \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 vue.js. \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f: \u0414\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0451\u043d \u0440\u043e\u0443\u0442\u0435\u0440 \u0414\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0441 \u0432\u043d\u0435\u0448\u043d\u0438\u043c API \u0420\u0430\u0437\u0443\u043c\u043d\u043e\u0435 \u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u0425\u043e\u0434 \u0440\u0430\u0431\u043e\u0442\u044b: \u0412\u0430\u0440\u0438\u0430\u043d\u0442: \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438: \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u0432\u0445\u043e\u0434 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b: \u0434\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442, \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u043a\u043d\u0438\u0433 \u0432 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0435, \u0420\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u0430 \u043d\u0430 components, layouts, views \u041c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430\u043c\u0438 \u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u0441 \u043a\u043e\u0434\u043e\u043c /router/index.js - \u0444\u0430\u0439\u043b \u0441\u043e \u0432\u0441\u0435\u043c\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u043c\u0438 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430\u043c\u0438 (urls) \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f import { createRouter , createWebHistory } from 'vue-router' const router = createRouter ({ history : createWebHistory ( import . meta . env . BASE_URL ), routes : [ { path : '/' , name : 'Login' , component : () => import ( '@/views/LoginView.vue' ) }, { path : '/reg' , name : 'Registration' , component : () => import ( '@/views/RegistrationView.vue' ) }, { path : '/home' , name : 'Home' , component : () => import ( '@/views/HomeView.vue' ) }, { path : '/books' , name : 'Books' , component : () => import ( '@/views/BooksView.vue' ) }, { path : '/books/:id' , name : 'Book' , component : () => import ( '@/views/BookView.vue' ) }, { path : '/take_book/:id' , name : 'TakeBook' , component : () => import ( '@/views/TakeBookView.vue' ) }, { path : '/return/:id' , name : 'ReturnBook' , component : () => import ( '@/views/ReturnBookView.vue' ) }, { path : '/reader' , name : 'Reader' , component : () => import ( '@/views/ReaderInfoView.vue' ) }, { path : '/edit' , name : 'EditReader' , component : () => import ( '@/views/EditProfileView.vue' ) } ] }) export default router Components /\u0441omponents/LoginBar.vue - \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0432\u0445\u043e\u0434\u043e\u043c < template > < v - spacer >< /v-spacer> < v - btn @ click = \"goSignUp()\" text > \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f < /v-btn> < /template> < script > export default { name : \"LoginBar\" , methods : { goSignUp () { this . $router . push ({ name : 'Registration' }) }, } } < /script> /\u0441omponents/RegistrationBar.vue - \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439 < template > < v - spacer >< /v-spacer> < v - btn v - if = \"!auth\" @ click = \"goLogin()\" text > < span class = \"mr-2\" > \u0412\u0445\u043e\u0434 < /span> < /v-btn> < /template> < script > export default { name : 'RegistrationBar' , methods : { goLogin () { this . $router . push ({ name : 'Login' }) }, } } < /script> < style > < /style> /\u0441omponents/HomePage.vue - \u0442\u0435\u043b\u043e \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b < template > < h1 style = \"text-align: center;\" > \u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \"\u041b\u0435\u0440\u043c\u043e\u043d\u0442\u043e\u0432\" < /h1> < br >< br > < h3 style = \"text-align: center;\" > \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 : < /h3> < p style = \"text-align: center;\" > < br > 1. \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 / \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043b\u0438\u0447\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 < br > 2. \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0432\u0441\u0435\u0445 \u043a\u043d\u0438\u0433 < br > 3. \u0411\u0440\u043e\u043d\u0438\u0440\u0432\u043e\u0430\u043d\u0438\u0435 / \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u043a\u043d\u0438\u0433\u0438 < /p> < /template> < script > export default { name : 'HomePage' } < /script> /\u0441omponents/AllBooks.vue - \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u043e\u043c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 < template > < v - btn v - if = \"auth\" @ click = \"Home()\" text > < span class = \"mr-2\" > \u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 < /span> < /v-btn> < v - spacer >< /v-spacer> < v - btn v - if = \"auth\" @ click = \"LK()\" text > \u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 < /v-btn> < v - btn v - if = \"auth\" @ click = \"Logout()\" text > < span class = \"mr-2\" > \u0412\u044b\u0439\u0442\u0438 < /span> < /v-btn> < /template> < script > export default { name : 'AllBooks' , computed : { auth () { var auth if ( localStorage . auth_token ) { auth = true } return auth }}, methods : { Logout () { this . $router . push ({ name : 'Login' }) }, Home () { this . $router . push ({ name : 'Home' }) }, LK () { this . $router . push ({ name : 'Reader' }) } } } < /script> /\u0441omponents/OneBook.vue - \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u043e \u043a\u043d\u0438\u0433\u0435 < template > < v - btn v - if = \"auth\" @ click = \"Home()\" text > < span class = \"mr-2\" > \u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 < /span> < /v-btn> < v - spacer >< /v-spacer> < v - btn v - if = \"auth\" @ click = \"LK()\" text > < span class = \"mr-2\" > \u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"Books()\" text > < span class = \"mr-2\" > \u041a\u043d\u0438\u0433\u0438 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"Logout()\" text > < span class = \"mr-2\" > \u0412\u044b\u0439\u0442\u0438 < /span> < /v-btn> < /template> < script > export default { name : 'OneBook' , computed : { auth () { var auth if ( localStorage . auth_token ) { auth = true } return auth }}, methods : { Logout () { localStorage . clear () this . $router . push ({ name : 'Login' }) }, Home () { this . $router . push ({ name : 'Home' }) }, Books () { this . $router . push ({ name : 'Books' }) }, LK () { this . $router . push ({ name : 'Reader' }) } } } < /script> /\u0441omponents/TakeBook.vue - \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435\u043c \u043a\u043d\u0438\u0433\u0438 < template > < v - btn v - if = \"auth\" @ click = \"Home()\" text > < span class = \"mr-2\" > \u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 < /span> < /v-btn> < v - spacer >< /v-spacer> < v - btn v - if = \"auth\" @ click = \"Books()\" text > < span class = \"mr-2\" > \u041a\u043d\u0438\u0433\u0438 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"LK()\" text > < span class = \"mr-2\" > \u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"Logout()\" text > < span class = \"mr-2\" > \u0412\u044b\u0439\u0442\u0438 < /span> < /v-btn> < /template> < script > export default { name : 'TakeBook' , computed : { auth () { var auth if ( localStorage . auth_token ) { auth = true } return auth }}, methods : { Logout () { localStorage . clear () this . $router . push ({ name : 'Login' }) }, Home () { this . $router . push ({ name : 'Home' }) }, Books () { this . $router . push ({ name : 'Books' }) }, LK () { this . $router . push ({ name : 'Reader' }) } } } < /script> /\u0441omponents/ReturnBook.vue - \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0432\u043e\u0437\u0440\u0430\u0442\u043e\u043c \u043a\u043d\u0438\u0433\u0438 < template > < v - btn v - if = \"auth\" @ click = \"Home()\" text > < span class = \"mr-2\" > \u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 < /span> < /v-btn> < v - spacer >< /v-spacer> < v - btn v - if = \"auth\" @ click = \"Books()\" text > < span class = \"mr-2\" > \u041a\u043d\u0438\u0433\u0438 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"LK()\" text > < span class = \"mr-2\" > \u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"Logout()\" text > < span class = \"mr-2\" > \u0412\u044b\u0439\u0442\u0438 < /span> < /v-btn> < /template> < script > export default { name : 'ReturnBook' , computed : { auth () { var auth if ( localStorage . auth_token ) { auth = true } return auth }}, methods : { Logout () { localStorage . clear () this . $router . push ({ name : 'Login' }) }, Home () { this . $router . push ({ name : 'Home' }) }, Books () { this . $router . push ({ name : 'Books' }) }, LK () { this . $router . push ({ name : 'Reader' }) } } } < /script> /\u0441omponents/ReaderInfo.vue - \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u043b\u0438\u0447\u043d\u044b\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u043e\u043c < template > < v - btn v - if = \"auth\" @ click = \"Home()\" text > < span class = \"mr-2\" > \u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 < /span> < /v-btn> < v - spacer >< /v-spacer> < v - btn v - if = \"auth\" @ click = \"Books()\" text > < span class = \"mr-2\" > \u041a\u043d\u0438\u0433\u0438 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"Logout()\" text > < span class = \"mr-2\" > \u0412\u044b\u0439\u0442\u0438 < /span> < /v-btn> < /template> < script > export default { name : 'ReaderInfo' , computed : { auth () { var auth if ( localStorage . auth_token ) { auth = true } return auth }}, methods : { Logout () { localStorage . clear () this . $router . push ({ name : 'Login' }) }, Home () { this . $router . push ({ name : 'Home' }) }, Books () { this . $router . push ({ name : 'Books' }) } } } < /script> /\u0441omponents/EditProfile.vue - \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043f\u0440\u043e\u0444\u0438\u043b\u044f < template > < v - btn v - if = \"auth\" @ click = \"Home()\" text > < span class = \"mr-2\" > \u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 < /span> < /v-btn> < v - spacer >< /v-spacer> < v - btn v - if = \"auth\" @ click = \"LK()\" text > < span class = \"mr-2\" > \u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"Books()\" text > < span class = \"mr-2\" > \u041a\u043d\u0438\u0433\u0438 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"Logout()\" text > < span class = \"mr-2\" > \u0412\u044b\u0439\u0442\u0438 < /span> < /v-btn> < /template> < script > export default { name : 'EditProfile' , computed : { auth () { var auth if ( localStorage . auth_token ) { auth = true } return auth }}, methods : { Logout () { localStorage . clear () this . $router . push ({ name : 'Login' }) }, Home () { this . $router . push ({ name : 'Home' }) }, Books () { this . $router . push ({ name : 'Books' }) }, LK () { this . $router . push ({ name : 'Reader' }) } } } < /script> Views /views/LoginView.vue - \u0432\u0445\u043e\u0434 < template > < v - app > < bar - layout > < LoginBar /> < /bar-layout> < v - main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < br >< br >< br >< br >< br > < h1 style = \"text-align: center;\" > \u0412\u0445\u043e\u0434 \u0432 \u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c < /h1> < br > < v - col cols = \"4\" class = \"mx-auto\" > < v - card max - width = 600 color = \"#f7f4ef\" > < v - row class = \"py-2\" > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"Username\" v - model = \"username\" name = \"username\" placeholder = \"username\" /> < /v-col> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"Password\" v - model = \"password\" name = \"password\" type = password /> < /v-col> < /v-row> < v - col cols = \"5\" class = \"mx-auto\" > < v - btn block color = \"blue\" @ click . prevent = \"login()\" > \u0412\u043e\u0439\u0442\u0438 < /v-btn> < /v-col> < /v-card> < /v-col> < /v-main> < /v-app> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import LoginBar from '@/components/LoginBar.vue' import axios from 'axios' export default { name : 'LogIn' , components : { BarLayout , LoginBar }, data () { return { username : '' , password : '' , } } , methods : { async login () { const response = await axios . post ( 'http://127.0.0.1:8000/auth/token/login/' , { username : this . username , password : this . password , }) if ( response . data . auth_token ) { localStorage . auth_token = response . data . auth_token window . location = '/home' } } } } < /script> /views/RegistrationView.vue - \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f < template > < v - app > < bar - layout > < RegistrationBar /> < /bar-layout> < main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < br >< br >< br >< br >< br > < h1 style = \"text-align: center;\" > \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430\u0440\u0435\u0439 < /h1> < br > < v - col cols = \"6\" class = \"mx-auto\" > < v - card max - width = 800 color = \"#f7f4ef\" > < v - row class = \"py-2\" > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"\u041b\u043e\u0433\u0438\u043d\" v - model = \"signUpForm.username\" name = \"username\" placeholder = \"dashusik1702\" /> < /v-col> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"\u0418\u043c\u044f\" v - model = \"signUpForm.first_name\" name = \"first_name\" placeholder = \"\u0414\u0430\u0440\u044c\u044f\" /> < /v-col> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"\u0424\u0430\u043c\u0438\u043b\u0438\u044f\" v - model = \"signUpForm.last_name\" name = \"last_name\" placeholder = \"\u0411\u0430\u043b\u0434\u0438\u043d\u0430\" /> < /v-col> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430\" v - model = \"signUpForm.phone\" name = \"phone\" placeholder = \"+796175639020\" /> < /v-col> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"\u0410\u0434\u0440\u0435\u0441\" v - model = \"signUpForm.address\" name = \"address\" placeholder = \"\u041f\u0440\u043e\u0441\u0442\u043e\u043a\u0432\u0430\u0448\u0438\u043d\u043e 1\" /> < /v-col> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"\u041d\u043e\u043c\u0435\u0440 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u0430\" v - model = \"signUpForm.card_number\" name = \"card_number\" placeholder = \"123\" /> < /v-col> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f\" v - model = \"signUpForm.date_of_birth\" name = \"date_of_birth\" placeholder = \"2022-02-21\" /> < /v-col> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - select v - model = \"signUpForm.education\" : items = \"educationOptions\" label = \"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435\" >< /v-select> < /v-col> < /v-row> < v - row > < v - col cols = \"4\" class = \"mx-auto\" >< /v-col> < v - checkbox v - model = \"signUpForm.degree\" : label = \"'\u0423\u0447\u0451\u043d\u0430\u044f \u0441\u0442\u0435\u043f\u0435\u043d\u044c'\" >< /v-checkbox> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"Password\" v - model = \"signUpForm.password\" name = \"password\" type = password /> < /v-col> < /v-row> < v - col cols = \"5\" class = \"mx-auto\" > < v - btn block color = \"blue\" @ click . prevent = \"register()\" > Register < /v-btn> < /v-col> < /v-card> < /v-col> < /main> < /v-app> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import RegistrationBar from '@/components/RegistrationBar.vue' import axios from 'axios' export default { name : 'SignUp' , components : { BarLayout , RegistrationBar }, data : () => ({ signUpForm : { username : '' , password : '' , first_name : '' , last_name : '' , card_number : '' , date_of_birth : '' , education : '' , degree : '' , passport : '' , address : '' , phone : '' }, educationOptions : [ '\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u043e\u0431\u0449\u0435\u0435' , '\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435' , '\u0412\u044b\u0441\u0448\u0435\u0435' , '\u041d\u0435\u043e\u043a\u043e\u043d\u0447\u0435\u043d\u043d\u043e\u0435 \u0432\u044b\u0441\u0448\u0435\u0435' , '\u041d\u0435\u043e\u043a\u043e\u043d\u0447\u0435\u043d\u043d\u043e\u0435 \u0441\u0440\u0435\u0434\u043d\u0435\u0435' ] }), methods : { async register () { try { await axios . post ( 'http://127.0.0.1:8000/auth/users/' , this . signUpForm ) this . $router . push ({ name : 'Login' }) } catch ( e ) { if ( e . response . data . non_field_errors ) { alert ( e . response . data . non_field_errors ) } else if ( e . response . data . username ) { alert ( '\u041b\u043e\u0433\u0438\u043d: ' + e . response . data . username ) } else if ( e . response . data . password ) { alert ( '\u041f\u0430\u0440\u043e\u043b\u044c: ' + e . response . data . password ) } else if ( e . response . data . first_name ) { alert ( '\u0418\u043c\u044f: ' + e . response . data . first_name ) } else if ( e . response . data . last_name ) { alert ( '\u0424\u0430\u043c\u0438\u043b\u0438\u044f: ' + e . response . data . last_name ) } else if ( e . response . data . card_number ) { alert ( '\u041d\u043e\u043c\u0435\u0440 \u0431\u0438\u043b\u0435\u0442\u0430: ' + e . response . data . card_number ) } else if ( e . response . data . date_of_birth ) { alert ( '\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f: ' + e . response . data . date_of_birth ) } else if ( e . response . data . education ) { alert ( '\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435: ' + e . response . data . education ) } else if ( e . response . data . degree ) { alert ( '\u0423\u0447\u0451\u043d\u0430\u044f \u0441\u0442\u0435\u043f\u0435\u043d\u044c: ' + e . response . data . degree ) } else if ( e . response . data . passport ) { alert ( '\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435: ' + e . response . data . passport ) } else if ( e . response . data . address ) { alert ( '\u0410\u0434\u0440\u0435\u0441: ' + e . response . data . address ) } else if ( e . response . data . phone ) { alert ( '\u0422\u0435\u043b\u0435\u0444\u043e\u043d: ' + e . response . data . phone ) } else { console . error ( e . message ) } } } } } < /script> /views/HomeView.vue - \u0434\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f < template > < v - app > < bar - layout > < v - btn v - if = \"auth\" @ click = \"LK()\" text > \u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 < /v-btn> < v - spacer >< /v-spacer> < v - btn v - if = \"auth\" @ click = \"Books()\" text > \u041a\u043d\u0438\u0433\u0438 < /v-btn> < v - btn v - if = \"auth\" @ click = \"goLogout()\" text > \u0412\u044b\u0445\u043e\u0434 < /v-btn> < /bar-layout> < v - main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < br >< br > < HomePage /> < /v-main> < /v-app> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import HomePage from '@/components/HomePage.vue' export default { name : 'HomeView' , components : { BarLayout , HomePage }, computed : { auth () { var auth if ( localStorage . auth_token ) { auth = true } return auth }}, methods : { goLogout () { localStorage . clear () this . $router . push ({ name : 'Login' }) }, Books () { this . $router . push ({ name : 'Books' }) }, LK () { this . $router . push ({ name : 'Reader' }) }, } } < /script> /views/BooksView.vue - \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 < template > < section > < v - app > < bar - layout > < AllBooks /> < /bar-layout> < v - main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < v - row class = \"mx-3.5\" > < v - col cols = \"4\" class = \"mx-auto\" > < br >< br > < div > < h2 > \u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 < /h2> < v - card elevation = \"5\" outlined class = \"my-2\" v - for = \"book in books\" v - bind : key = \"book\" v - bind : book = \"book\" > < a @ click . prevent = \"goBook(book.id)\" > {{ book . title }} < /a> < /v-card> < /div> < /v-col> < /v-row> < /v-main> < /v-app> < /section> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import AllBooks from '@/components/AllBooks.vue' import axios from 'axios' export default { name : 'BookList' , data () { return { books : '' } }, created () { this . loadBooks () }, components : { BarLayout , AllBooks }, methods : { async loadBooks () { const response = await axios . get ( 'http://127.0.0.1:8000/library/books/' ) this . books = response . data }, goBook ( bookID ) { this . $router . push ({ name : 'Book' , params : { id : bookID } }) }, }} < /script> /views/BookView.vue - \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043d\u0438\u0433\u0435 < template > < section > < v - app > < bar - layout > < OneBook /> < /bar-layout> < v - main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < v - row class = \"mx-3.5\" > < v - col cols = \"5\" class = \"mx-auto\" > < br >< br > < div > < v - card elevation = \"2\" outlined class = \"my-5\" > < v - card - title > < h2 > {{ this . book . title }} < /h2> < /v-card-title> < v - card - text > < div class = \"text--primary\" > < b > \u0410\u0432\u0442\u043e\u0440\u044b :< /b> {{ this.book.authors }}<br> < b > \u0416\u0430\u043d\u0440 :< /b> {{ this.book.genre }} <br> < b > \u0413\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f :< /b> {{ this.book.publication_year }} <br> < b > \u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e :< /b> {{ this.book.publisher }} <br> < b > \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u0447\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 :< /b> {{ this.book.book_cypher }} <br> < br > < b > \u0417\u0430\u043b\u044b :< /b> < ul > < li v - for = \"hall in this.book.book_hall\" v - bind : key = \"hall\" v - bind : hall = \"hall\" > {{ hall . title }} < /li> < /ul> < /div> < /v-card-text> < /v-card> < v - btn v - if = \"!this.bookOnHold\" color = \"primary\" light @ click = \"takeBook\" > \u0412\u0437\u044f\u0442\u044c \u043a\u043d\u0438\u0433\u0443 < /v-btn> < v - card elevation = \"2\" outlined class = \"my-2\" v - else > < v - card - text > < div class = \"text--primary\" > \u0412\u044b \u0441\u0435\u0439\u0447\u0430\u0441 \u0447\u0438\u0442\u0430\u0435\u0442\u0435 \u044d\u0442\u0443 \u043a\u043d\u0438\u0433\u0443 < /div> < /v-card-text> < v - spacer >< /v-spacer> < v - btn block color = \"red\" light @ click = \"returnBook\" > \u0412\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u043d\u0438\u0433\u0443 \u0432 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 < /v-btn> < /v-card> < /div> < /v-col> < /v-row> < /v-main> < /v-app> < /section> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import OneBook from '@/components/OneBook.vue' import axios from 'axios' export default { name : 'BookView' , data () { return { book : Object , reader : Object , bookOnHold : false , bookReaderID : '' } }, created () { this . loadBook () this . loadReaderData () }, components : { BarLayout , OneBook }, methods : { async loadBook () { this . book_url = 'http://127.0.0.1:8000/library/books/' + this . $route . params . id const response = await axios . get ( this . book_url ) this . book = response . data }, async loadReaderData () { const response = await axios . get ( 'http://127.0.0.1:8000/auth/users/me/' , { headers : { Authorization : `Token ${ localStorage . auth_token } ` } }) this . reader = response . data await this . checkOnHold () }, async checkOnHold () { this . reader_url = 'http://127.0.0.1:8000/library/readers/' + this . reader . id const response = await axios . get ( this . reader_url ) console . log ( response . data ) // eslint-disable-next-line no-unused-vars for ( const [ key , value ] of Object . entries ( response . data . reader_book )) { if ( value . id === this . book . id ) { this . bookOnHold = true break } } }, takeBook () { this . $router . push ({ name : 'TakeBook' , params : { id : this . book . id } }) }, async returnBook () { const response = await axios . get ( 'http://127.0.0.1:8000/library/reader_books/' ) // eslint-disable-next-line no-unused-vars for ( const [ key , value ] of Object . entries ( response . data )) { if ( value . reader . id === this . reader . id && value . book . id === this . book . id ) { this . bookReaderID = value . id break } } await this . $router . push ({ name : 'ReturnBook' , params : { id : this . bookReaderID } }) }, }} < /script> /views/TakeBookView.vue - \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438 < template > < v - app > < bar - layout > < TakeBook /> < /bar-layout> < v - main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < v - row class = \"mx-3.5\" > < v - col cols = \"5\" class = \"mx-auto\" > < br >< br > < v - card > < v - card - title > < h2 > {{ this . book . title }} < /h2> < /v-card-title> < v - card - text > < div class = \"text--primary\" > < b > \u0410\u0432\u0442\u043e\u0440 ( - \u044b ) :< /b> {{ this.book.authors }}<br> < b > \u0416\u0430\u043d\u0440 :< /b> {{ this.book.genre }} <br> < b > \u0413\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f :< /b> {{ this.book.publication_year }} <br> < b > \u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e :< /b> {{ this.book.publisher }} <br> < b > \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u0447\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 :< /b> {{ this.book.book_cypher }} <br> < br > < v - text - field label = \"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438\" v - model = \"submitForm.issue_date\" name = \"issue_date\" type = \"date\" /> < v - text - field label = \"\u0414\u0430\u0442\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430\" v - model = \"submitForm.due_date\" name = \"due_date\" type = \"date\" /> < /div> < /v-card-text> < /v-card> < v - btn color = \"primary\" light @ click = \"takeBook\" > \u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c < /v-btn> < /v-col> < /v-row> < /v-main> < /v-app> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import TakeBook from '@/components/TakeBook.vue' import axios from 'axios' export default { name : 'TakeBookView' , components : { BarLayout , TakeBook }, data : () => ({ book : Object , reader : Object , submitForm : { book : '' , reader : '' , issue_date : '' , due_date : '' } }), created () { this . loadReaderData () this . loadBook () }, methods : { async loadBook () { this . book_url = 'http://127.0.0.1:8000/library/books/' + this . $route . params . id const response = await axios . get ( this . book_url ) this . book = response . data }, async takeBook () { this . submitForm . book = this . book . id this . submitForm . reader = this . reader . id await axios . post ( 'http://127.0.0.1:8000/library/take_out/' , this . submitForm ) await this . $router . push ({ name : 'Book' , params : { id : this . book . id } }) }, async loadReaderData () { const response = await axios . get ( 'http://127.0.0.1:8000/auth/users/me/' , { headers : { Authorization : `Token ${ localStorage . auth_token } ` } }) this . reader = response . data }, }} < /script> /views/ReturnBookView.vue - \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u043a\u043d\u0438\u0433\u0438 < template > < v - app > < bar - layout > < ReturnBook /> < /bar-layout> < v - main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < v - row class = \"mx-3.5\" > < v - col cols = \"5\" class = \"mx-auto\" > < br >< br > < v - card > < v - card - title > < h2 > {{ this . book . title }} < /h2> < /v-card-title> < v - card - text > < div class = \"text--primary\" > < b > \u0410\u0432\u0442\u043e\u0440 ( - \u044b ) :< /b> {{ this.book.authors }}<br> < b > \u0416\u0430\u043d\u0440 :< /b> {{ this.book.genre }} <br> < b > \u0413\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f :< /b> {{ this.book.publication_year }} <br> < b > \u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e :< /b> {{ this.book.publisher }} <br> < b > \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u0447\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 :< /b> {{ this.book.book_cypher }} <br> < br > < /div> < /v-card-text> < /v-card> < v - card > < v - card - text > < div class = \"text--primary\" > \u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438 : {{ this . issue_date }} < br > \u0414\u0430\u0442\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430 : {{ this . due_date }} < /div> < /v-card-text> < /v-card> < v - btn style = \"margin-top:0.5cm\" color = \"red\" light @ click = \"returnBook\" > \u0412\u0435\u0440\u043d\u0443\u0442\u044c < /v-btn> < /v-col> < /v-row> < /v-main> < /v-app> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import ReturnBook from '@/components/ReturnBook.vue' import axios from 'axios' export default { name : 'ReturnBookView' , components : { BarLayout , ReturnBook }, data : () => ({ book : '' , reader : '' , issue_date : '' , due_date : '' }), created () { this . loadReaderData () }, methods : { async loadReaderData () { this . book_url = 'http://127.0.0.1:8000/library/reader_books/' + this . $route . params . id const response = await axios . get ( this . book_url ) this . book = response . data . book this . reader = response . data . reader this . issue_date = response . data . issue_date this . due_date = response . data . due_date }, async returnBook () { this . return_url = 'http://127.0.0.1:8000/library/return/' + this . $route . params . id await axios . delete ( this . return_url ) alert ( '\u0412\u044b \u0432\u0435\u0440\u043d\u0443\u043b\u0438 \u043a\u043d\u0438\u0433\u0443 \u0432 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443' ) await this . $router . push ({ name : 'Books' }) }, }} < /script> /views/ReaderInfoView.vue - \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 < template > < v - app > < bar - layout > < ReaderInfo /> < /bar-layout> < v - main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < v - row class = \"mx-3.5\" > < v - col cols = \"4\" class = \"mx-auto\" > < br >< br > < div > < v - card elevation = \"2\" outlined class = \"my-2\" > < v - card - title > < h2 > \u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 < /h2> < /v-card-title> < v - card - text > < div class = \"text--primary\" > < b > \u0418\u043c\u044f :< /b> {{ this.reader.first_name }} <br> < b > \u0424\u0430\u043c\u0438\u043b\u0438\u044f :< /b> {{ this.reader.last_name }} <br> < b > \u041b\u043e\u0433\u0438\u043d :< /b> {{ this.reader.username }} <br> < b > \u041d\u043e\u043c\u0435\u0440 \u0431\u0438\u043b\u0435\u0442\u0430 :< /b> {{ this.reader.card_number }} <br> < b > \u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f :< /b> {{ this.reader.date_of_birth }} <br> < b > \u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 :< /b> {{ this.reader.education }} <br> < b > \u0423\u0447\u0435\u043d\u0430\u044f \u0441\u0442\u0435\u043f\u0435\u043d\u044c :< /b> {{ this.reader.degree ? '\u0435\u0441\u0442\u044c' : '\u043d\u0435\u0442' }} <br> < b > \u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 :< /b> {{ this.reader.passport }} <br> < b > \u0410\u0434\u0440\u0435\u0441 :< /b> {{ this.reader.address }} <br> < b > \u0422\u0435\u043b\u0435\u0444\u043e\u043d :< /b> {{ this.reader.phone }} <br> < /div> < /v-card-text> < /v-card> < h3 v - if = \" arrLegth > 0\" > \u0412\u044b \u0441\u0435\u0439\u0447\u0430\u0441 \u0447\u0438\u0442\u0430\u0435\u0442\u0435 :< /h3> < h3 v - else > \u0412\u044b \u0441\u0435\u0439\u0447\u0430\u0441 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0447\u0438\u0442\u0430\u0435\u0442\u0435 < /h3> < v - card elevation = \"5\" outlined class = \"my-2\" v - for = \"book in reader.reader_book\" v - bind : key = \"book\" v - bind : book = \"book\" > < a @ click . prevent = \"goBook(book.id)\" > {{ book . title }} < /a> < /v-card> < v - btn block color = \"green\" light @ click . prevent = \"goEdit\" > \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c < /v-btn> < /div> < /v-col> < /v-row> < /v-main> < /v-app> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import ReaderInfo from '@/components/ReaderInfo.vue' import axios from 'axios' export default { name : 'ReaderLK' , components : { BarLayout , ReaderInfo }, data () { return { arrLegth : Number , reader : Object } }, created () { this . loadReaderData () }, methods : { async loadReaderData () { const response = await axios . get ( 'http://127.0.0.1:8000/auth/users/me/' , { headers : { Authorization : `Token ${ localStorage . auth_token } ` } }) this . reader = response . data await this . loadCurrentlyReading () }, async loadCurrentlyReading () { this . cur_read_url = 'http://127.0.0.1:8000/library/readers/' + this . reader . id const response = await axios . get ( this . cur_read_url ) this . reader = response . data this . arrLegth = this . reader . reader_book . length }, goBook ( bookID ) { this . $router . push ({ name : 'Book' , params : { id : bookID } }) }, goEdit () { this . $router . push ({ name : 'EditReader' }) } } } < /script> /views/EditProfileView.vue - \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 < template > < v - app > < bar - layout > < EditProfile /> < /bar-layout> < v - main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < v - row class = \"mx-3.5\" > < v - col cols = \"4\" class = \"mx-auto\" > < br >< br > < div class = \"edit\" > < h2 style = \"text-align: center\" > \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f < /h2> < v - form @ submit . prevent = \"saveChanges\" ref = \"editForm\" class = \"my-2\" > < v - card max - width = 800 color = \"#f7f4ef\" > < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"\u0418\u043c\u044f\" v - model = \"editForm.first_name\" name = \"first_name\" /> < v - text - field label = \"\u0424\u0430\u043c\u0438\u043b\u0438\u044f\" v - model = \"editForm.last_name\" name = \"last_name\" /> < v - text - field label = \"\u041d\u043e\u043c\u0435\u0440 \u0431\u0438\u043b\u0435\u0442\u0430\" v - model = \"editForm.card_number\" name = \"card_number\" type = \"number\" /> < v - text - field label = \"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f\" v - model = \"editForm.date_of_birth\" name = \"date_of_birth\" type = \"date\" /> < v - select v - model = \"editForm.education\" : items = \"educationOptions\" label = \"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435\" >< /v-select> < v - checkbox v - model = \"editForm.degree\" : label = \"'\u0423\u0447\u0451\u043d\u0430\u044f \u0441\u0442\u0435\u043f\u0435\u043d\u044c'\" >< /v-checkbox> < v - text - field label = \"\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435\" v - model = \"editForm.passport\" name = \"passport\" /> < v - text - field label = \"\u0410\u0434\u0440\u0435\u0441\" v - model = \"editForm.address\" name = \"address\" /> < v - text - field label = \"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\" v - model = \"editForm.phone\" name = \"phone\" /> < /v-col> < /v-row> < /v-card> < v - btn block type = \"submit\" color = \"primary\" dark > \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c < /v-btn> < /v-form> < /div> < /v-col> < /v-row> < /v-main> < /v-app> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import EditProfile from '@/components/EditProfile.vue' import axios from 'axios' export default { name : 'EditReader' , components : { BarLayout , EditProfile }, data : () => ({ reader_old : Object , editForm : { first_name : '' , last_name : '' , card_number : '' , date_of_birth : '' , education : '' , degree : '' , passport : '' , address : '' , phone : '' }, educationOptions : [ '\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u043e\u0431\u0449\u0435\u0435' , '\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435' , '\u0412\u044b\u0441\u0448\u0435\u0435' , '\u041d\u0435\u043e\u043a\u043e\u043d\u0447\u0435\u043d\u043d\u043e\u0435 \u0432\u044b\u0441\u0448\u0435\u0435' , '\u041d\u0435\u043e\u043a\u043e\u043d\u0447\u0435\u043d\u043d\u043e\u0435 \u0441\u0440\u0435\u0434\u043d\u0435\u0435' ] }), created () { this . loadReaderData () }, methods : { async loadReaderData () { const response = await axios . get ( 'http://127.0.0.1:8000/auth/users/me/' , { headers : { Authorization : `Token ${ localStorage . auth_token } ` } }) this . reader_old = response . data this . editForm . first_name = response . data . first_name this . editForm . last_name = response . data . last_name this . editForm . card_number = response . data . card_number this . editForm . date_of_birth = response . data . date_of_birth this . editForm . education = response . data . education this . editForm . degree = response . data . degree this . editForm . passport = response . data . passport this . editForm . address = response . data . address this . editForm . phone = response . data . phone }, async saveChanges () { for ( const [ key , value ] of Object . entries ( this . editForm )) { if ( value === '' ) { delete this . editForm [ key ] } } try { await axios . patch ( 'http://127.0.0.1:8000/auth/users/me/' , this . editForm , { headers : { Authorization : `Token ${ localStorage . auth_token } ` } }) await this . $router . push ({ name : 'Reader' }) } catch ( e ) { if ( e . response . data . non_field_errors ) { alert ( e . response . data . non_field_errors ) } else if ( e . response . data . username ) { alert ( '\u041b\u043e\u0433\u0438\u043d: ' + e . response . data . username ) } else if ( e . response . data . password ) { alert ( '\u041f\u0430\u0440\u043e\u043b\u044c: ' + e . response . data . password ) } else if ( e . response . data . first_name ) { alert ( '\u0418\u043c\u044f: ' + e . response . data . first_name ) } else if ( e . response . data . last_name ) { alert ( '\u0424\u0430\u043c\u0438\u043b\u0438\u044f: ' + e . response . data . last_name ) } else if ( e . response . data . card_number ) { alert ( '\u041d\u043e\u043c\u0435\u0440 \u0431\u0438\u043b\u0435\u0442\u0430: ' + e . response . data . card_number ) } else if ( e . response . data . date_of_birth ) { alert ( '\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f: ' + e . response . data . date_of_birth ) } else if ( e . response . data . education ) { alert ( '\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435: ' + e . response . data . education ) } else if ( e . response . data . degree ) { alert ( '\u0423\u0447\u0451\u043d\u0430\u044f \u0441\u0442\u0435\u043f\u0435\u043d\u044c: ' + e . response . data . degree ) } else if ( e . response . data . passport ) { alert ( '\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435: ' + e . response . data . passport ) } else if ( e . response . data . address ) { alert ( '\u0410\u0434\u0440\u0435\u0441: ' + e . response . data . address ) } else if ( e . response . data . phone ) { alert ( '\u0422\u0435\u043b\u0435\u0444\u043e\u043d: ' + e . response . data . phone ) } else { console . error ( e . message ) } } } } } < /script> Layout /layouts/BarLayout.vue - \u0441\u0442\u0438\u043b\u044c \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 < template > < v - app - bar app color = 'black' dark > < slot /> < /v-app-bar> < /template>","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21164"},{"location":"lr4/#no4-spa-vuejs","text":"","title":"\u041b\u0430\u0431\u043e\u0440\u0430\u0442\u043e\u0440\u043d\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21164: \u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043e\u0434\u043d\u043e\u0441\u0442\u0440\u0430\u043d\u0438\u0447\u043d\u043e\u0433\u043e \u0432\u0435\u0431-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f (SPA) \u0441 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u0444\u0440\u0435\u0439\u043c\u0432\u043e\u0440\u043a\u0430 Vue.JS"},{"location":"lr4/#_1","text":"\u0417\u0430\u0434\u0430\u0447\u0430: \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0430\u043c\u0438 vue.js. \u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u044b\u0435 \u0442\u0440\u0435\u0431\u043e\u0432\u0430\u043d\u0438\u044f: \u0414\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0451\u043d \u0440\u043e\u0443\u0442\u0435\u0440 \u0414\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u0441 \u0432\u043d\u0435\u0448\u043d\u0438\u043c API \u0420\u0430\u0437\u0443\u043c\u043d\u043e\u0435 \u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 \u043a\u043e\u043c\u043f\u043e\u043d\u0435\u043d\u0442\u044b \u0425\u043e\u0434 \u0440\u0430\u0431\u043e\u0442\u044b: \u0412\u0430\u0440\u0438\u0430\u043d\u0442: \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \u0420\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438: \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0438 \u0432\u0445\u043e\u0434 \u0432 \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 \u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b: \u0434\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430, \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442, \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u043a\u043d\u0438\u0433 \u0432 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0435, \u0420\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u0430 \u043d\u0430 components, layouts, views \u041c\u0430\u0440\u0448\u0440\u0443\u0442\u0438\u0437\u0430\u0446\u0438\u044f \u043c\u0435\u0436\u0434\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430\u043c\u0438","title":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"},{"location":"lr4/#_2","text":"/router/index.js - \u0444\u0430\u0439\u043b \u0441\u043e \u0432\u0441\u0435\u043c\u0438 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u043c\u0438 \u043f\u0435\u0440\u0435\u0445\u043e\u0434\u0430\u043c\u0438 (urls) \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f import { createRouter , createWebHistory } from 'vue-router' const router = createRouter ({ history : createWebHistory ( import . meta . env . BASE_URL ), routes : [ { path : '/' , name : 'Login' , component : () => import ( '@/views/LoginView.vue' ) }, { path : '/reg' , name : 'Registration' , component : () => import ( '@/views/RegistrationView.vue' ) }, { path : '/home' , name : 'Home' , component : () => import ( '@/views/HomeView.vue' ) }, { path : '/books' , name : 'Books' , component : () => import ( '@/views/BooksView.vue' ) }, { path : '/books/:id' , name : 'Book' , component : () => import ( '@/views/BookView.vue' ) }, { path : '/take_book/:id' , name : 'TakeBook' , component : () => import ( '@/views/TakeBookView.vue' ) }, { path : '/return/:id' , name : 'ReturnBook' , component : () => import ( '@/views/ReturnBookView.vue' ) }, { path : '/reader' , name : 'Reader' , component : () => import ( '@/views/ReaderInfoView.vue' ) }, { path : '/edit' , name : 'EditReader' , component : () => import ( '@/views/EditProfileView.vue' ) } ] }) export default router","title":"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b \u0441 \u043a\u043e\u0434\u043e\u043c"},{"location":"lr4/#components","text":"/\u0441omponents/LoginBar.vue - \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0432\u0445\u043e\u0434\u043e\u043c < template > < v - spacer >< /v-spacer> < v - btn @ click = \"goSignUp()\" text > \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f < /v-btn> < /template> < script > export default { name : \"LoginBar\" , methods : { goSignUp () { this . $router . push ({ name : 'Registration' }) }, } } < /script> /\u0441omponents/RegistrationBar.vue - \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439 < template > < v - spacer >< /v-spacer> < v - btn v - if = \"!auth\" @ click = \"goLogin()\" text > < span class = \"mr-2\" > \u0412\u0445\u043e\u0434 < /span> < /v-btn> < /template> < script > export default { name : 'RegistrationBar' , methods : { goLogin () { this . $router . push ({ name : 'Login' }) }, } } < /script> < style > < /style> /\u0441omponents/HomePage.vue - \u0442\u0435\u043b\u043e \u0434\u043e\u043c\u0430\u0448\u043d\u0435\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b < template > < h1 style = \"text-align: center;\" > \u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 \"\u041b\u0435\u0440\u043c\u043e\u043d\u0442\u043e\u0432\" < /h1> < br >< br > < h3 style = \"text-align: center;\" > \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 : < /h3> < p style = \"text-align: center;\" > < br > 1. \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 / \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u043b\u0438\u0447\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 < br > 2. \u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0432\u0441\u0435\u0445 \u043a\u043d\u0438\u0433 < br > 3. \u0411\u0440\u043e\u043d\u0438\u0440\u0432\u043e\u0430\u043d\u0438\u0435 / \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u043a\u043d\u0438\u0433\u0438 < /p> < /template> < script > export default { name : 'HomePage' } < /script> /\u0441omponents/AllBooks.vue - \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u043e\u043c \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 < template > < v - btn v - if = \"auth\" @ click = \"Home()\" text > < span class = \"mr-2\" > \u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 < /span> < /v-btn> < v - spacer >< /v-spacer> < v - btn v - if = \"auth\" @ click = \"LK()\" text > \u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 < /v-btn> < v - btn v - if = \"auth\" @ click = \"Logout()\" text > < span class = \"mr-2\" > \u0412\u044b\u0439\u0442\u0438 < /span> < /v-btn> < /template> < script > export default { name : 'AllBooks' , computed : { auth () { var auth if ( localStorage . auth_token ) { auth = true } return auth }}, methods : { Logout () { this . $router . push ({ name : 'Login' }) }, Home () { this . $router . push ({ name : 'Home' }) }, LK () { this . $router . push ({ name : 'Reader' }) } } } < /script> /\u0441omponents/OneBook.vue - \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u043e \u043a\u043d\u0438\u0433\u0435 < template > < v - btn v - if = \"auth\" @ click = \"Home()\" text > < span class = \"mr-2\" > \u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 < /span> < /v-btn> < v - spacer >< /v-spacer> < v - btn v - if = \"auth\" @ click = \"LK()\" text > < span class = \"mr-2\" > \u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"Books()\" text > < span class = \"mr-2\" > \u041a\u043d\u0438\u0433\u0438 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"Logout()\" text > < span class = \"mr-2\" > \u0412\u044b\u0439\u0442\u0438 < /span> < /v-btn> < /template> < script > export default { name : 'OneBook' , computed : { auth () { var auth if ( localStorage . auth_token ) { auth = true } return auth }}, methods : { Logout () { localStorage . clear () this . $router . push ({ name : 'Login' }) }, Home () { this . $router . push ({ name : 'Home' }) }, Books () { this . $router . push ({ name : 'Books' }) }, LK () { this . $router . push ({ name : 'Reader' }) } } } < /script> /\u0441omponents/TakeBook.vue - \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435\u043c \u043a\u043d\u0438\u0433\u0438 < template > < v - btn v - if = \"auth\" @ click = \"Home()\" text > < span class = \"mr-2\" > \u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 < /span> < /v-btn> < v - spacer >< /v-spacer> < v - btn v - if = \"auth\" @ click = \"Books()\" text > < span class = \"mr-2\" > \u041a\u043d\u0438\u0433\u0438 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"LK()\" text > < span class = \"mr-2\" > \u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"Logout()\" text > < span class = \"mr-2\" > \u0412\u044b\u0439\u0442\u0438 < /span> < /v-btn> < /template> < script > export default { name : 'TakeBook' , computed : { auth () { var auth if ( localStorage . auth_token ) { auth = true } return auth }}, methods : { Logout () { localStorage . clear () this . $router . push ({ name : 'Login' }) }, Home () { this . $router . push ({ name : 'Home' }) }, Books () { this . $router . push ({ name : 'Books' }) }, LK () { this . $router . push ({ name : 'Reader' }) } } } < /script> /\u0441omponents/ReturnBook.vue - \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0432\u043e\u0437\u0440\u0430\u0442\u043e\u043c \u043a\u043d\u0438\u0433\u0438 < template > < v - btn v - if = \"auth\" @ click = \"Home()\" text > < span class = \"mr-2\" > \u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 < /span> < /v-btn> < v - spacer >< /v-spacer> < v - btn v - if = \"auth\" @ click = \"Books()\" text > < span class = \"mr-2\" > \u041a\u043d\u0438\u0433\u0438 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"LK()\" text > < span class = \"mr-2\" > \u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"Logout()\" text > < span class = \"mr-2\" > \u0412\u044b\u0439\u0442\u0438 < /span> < /v-btn> < /template> < script > export default { name : 'ReturnBook' , computed : { auth () { var auth if ( localStorage . auth_token ) { auth = true } return auth }}, methods : { Logout () { localStorage . clear () this . $router . push ({ name : 'Login' }) }, Home () { this . $router . push ({ name : 'Home' }) }, Books () { this . $router . push ({ name : 'Books' }) }, LK () { this . $router . push ({ name : 'Reader' }) } } } < /script> /\u0441omponents/ReaderInfo.vue - \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u043b\u0438\u0447\u043d\u044b\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u043e\u043c < template > < v - btn v - if = \"auth\" @ click = \"Home()\" text > < span class = \"mr-2\" > \u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 < /span> < /v-btn> < v - spacer >< /v-spacer> < v - btn v - if = \"auth\" @ click = \"Books()\" text > < span class = \"mr-2\" > \u041a\u043d\u0438\u0433\u0438 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"Logout()\" text > < span class = \"mr-2\" > \u0412\u044b\u0439\u0442\u0438 < /span> < /v-btn> < /template> < script > export default { name : 'ReaderInfo' , computed : { auth () { var auth if ( localStorage . auth_token ) { auth = true } return auth }}, methods : { Logout () { localStorage . clear () this . $router . push ({ name : 'Login' }) }, Home () { this . $router . push ({ name : 'Home' }) }, Books () { this . $router . push ({ name : 'Books' }) } } } < /script> /\u0441omponents/EditProfile.vue - \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435\u043c \u043f\u0440\u043e\u0444\u0438\u043b\u044f < template > < v - btn v - if = \"auth\" @ click = \"Home()\" text > < span class = \"mr-2\" > \u0414\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 < /span> < /v-btn> < v - spacer >< /v-spacer> < v - btn v - if = \"auth\" @ click = \"LK()\" text > < span class = \"mr-2\" > \u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"Books()\" text > < span class = \"mr-2\" > \u041a\u043d\u0438\u0433\u0438 < /span> < /v-btn> < v - btn v - if = \"auth\" @ click = \"Logout()\" text > < span class = \"mr-2\" > \u0412\u044b\u0439\u0442\u0438 < /span> < /v-btn> < /template> < script > export default { name : 'EditProfile' , computed : { auth () { var auth if ( localStorage . auth_token ) { auth = true } return auth }}, methods : { Logout () { localStorage . clear () this . $router . push ({ name : 'Login' }) }, Home () { this . $router . push ({ name : 'Home' }) }, Books () { this . $router . push ({ name : 'Books' }) }, LK () { this . $router . push ({ name : 'Reader' }) } } } < /script>","title":"Components"},{"location":"lr4/#views","text":"/views/LoginView.vue - \u0432\u0445\u043e\u0434 < template > < v - app > < bar - layout > < LoginBar /> < /bar-layout> < v - main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < br >< br >< br >< br >< br > < h1 style = \"text-align: center;\" > \u0412\u0445\u043e\u0434 \u0432 \u0443\u0447\u0435\u0442\u043d\u0443\u044e \u0437\u0430\u043f\u0438\u0441\u044c < /h1> < br > < v - col cols = \"4\" class = \"mx-auto\" > < v - card max - width = 600 color = \"#f7f4ef\" > < v - row class = \"py-2\" > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"Username\" v - model = \"username\" name = \"username\" placeholder = \"username\" /> < /v-col> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"Password\" v - model = \"password\" name = \"password\" type = password /> < /v-col> < /v-row> < v - col cols = \"5\" class = \"mx-auto\" > < v - btn block color = \"blue\" @ click . prevent = \"login()\" > \u0412\u043e\u0439\u0442\u0438 < /v-btn> < /v-col> < /v-card> < /v-col> < /v-main> < /v-app> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import LoginBar from '@/components/LoginBar.vue' import axios from 'axios' export default { name : 'LogIn' , components : { BarLayout , LoginBar }, data () { return { username : '' , password : '' , } } , methods : { async login () { const response = await axios . post ( 'http://127.0.0.1:8000/auth/token/login/' , { username : this . username , password : this . password , }) if ( response . data . auth_token ) { localStorage . auth_token = response . data . auth_token window . location = '/home' } } } } < /script> /views/RegistrationView.vue - \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f < template > < v - app > < bar - layout > < RegistrationBar /> < /bar-layout> < main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < br >< br >< br >< br >< br > < h1 style = \"text-align: center;\" > \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0430\u0440\u0435\u0439 < /h1> < br > < v - col cols = \"6\" class = \"mx-auto\" > < v - card max - width = 800 color = \"#f7f4ef\" > < v - row class = \"py-2\" > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"\u041b\u043e\u0433\u0438\u043d\" v - model = \"signUpForm.username\" name = \"username\" placeholder = \"dashusik1702\" /> < /v-col> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"\u0418\u043c\u044f\" v - model = \"signUpForm.first_name\" name = \"first_name\" placeholder = \"\u0414\u0430\u0440\u044c\u044f\" /> < /v-col> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"\u0424\u0430\u043c\u0438\u043b\u0438\u044f\" v - model = \"signUpForm.last_name\" name = \"last_name\" placeholder = \"\u0411\u0430\u043b\u0434\u0438\u043d\u0430\" /> < /v-col> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430\" v - model = \"signUpForm.phone\" name = \"phone\" placeholder = \"+796175639020\" /> < /v-col> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"\u0410\u0434\u0440\u0435\u0441\" v - model = \"signUpForm.address\" name = \"address\" placeholder = \"\u041f\u0440\u043e\u0441\u0442\u043e\u043a\u0432\u0430\u0448\u0438\u043d\u043e 1\" /> < /v-col> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"\u041d\u043e\u043c\u0435\u0440 \u0447\u0438\u0442\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0431\u0438\u043b\u0435\u0442\u0430\" v - model = \"signUpForm.card_number\" name = \"card_number\" placeholder = \"123\" /> < /v-col> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f\" v - model = \"signUpForm.date_of_birth\" name = \"date_of_birth\" placeholder = \"2022-02-21\" /> < /v-col> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - select v - model = \"signUpForm.education\" : items = \"educationOptions\" label = \"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435\" >< /v-select> < /v-col> < /v-row> < v - row > < v - col cols = \"4\" class = \"mx-auto\" >< /v-col> < v - checkbox v - model = \"signUpForm.degree\" : label = \"'\u0423\u0447\u0451\u043d\u0430\u044f \u0441\u0442\u0435\u043f\u0435\u043d\u044c'\" >< /v-checkbox> < /v-row> < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"Password\" v - model = \"signUpForm.password\" name = \"password\" type = password /> < /v-col> < /v-row> < v - col cols = \"5\" class = \"mx-auto\" > < v - btn block color = \"blue\" @ click . prevent = \"register()\" > Register < /v-btn> < /v-col> < /v-card> < /v-col> < /main> < /v-app> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import RegistrationBar from '@/components/RegistrationBar.vue' import axios from 'axios' export default { name : 'SignUp' , components : { BarLayout , RegistrationBar }, data : () => ({ signUpForm : { username : '' , password : '' , first_name : '' , last_name : '' , card_number : '' , date_of_birth : '' , education : '' , degree : '' , passport : '' , address : '' , phone : '' }, educationOptions : [ '\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u043e\u0431\u0449\u0435\u0435' , '\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435' , '\u0412\u044b\u0441\u0448\u0435\u0435' , '\u041d\u0435\u043e\u043a\u043e\u043d\u0447\u0435\u043d\u043d\u043e\u0435 \u0432\u044b\u0441\u0448\u0435\u0435' , '\u041d\u0435\u043e\u043a\u043e\u043d\u0447\u0435\u043d\u043d\u043e\u0435 \u0441\u0440\u0435\u0434\u043d\u0435\u0435' ] }), methods : { async register () { try { await axios . post ( 'http://127.0.0.1:8000/auth/users/' , this . signUpForm ) this . $router . push ({ name : 'Login' }) } catch ( e ) { if ( e . response . data . non_field_errors ) { alert ( e . response . data . non_field_errors ) } else if ( e . response . data . username ) { alert ( '\u041b\u043e\u0433\u0438\u043d: ' + e . response . data . username ) } else if ( e . response . data . password ) { alert ( '\u041f\u0430\u0440\u043e\u043b\u044c: ' + e . response . data . password ) } else if ( e . response . data . first_name ) { alert ( '\u0418\u043c\u044f: ' + e . response . data . first_name ) } else if ( e . response . data . last_name ) { alert ( '\u0424\u0430\u043c\u0438\u043b\u0438\u044f: ' + e . response . data . last_name ) } else if ( e . response . data . card_number ) { alert ( '\u041d\u043e\u043c\u0435\u0440 \u0431\u0438\u043b\u0435\u0442\u0430: ' + e . response . data . card_number ) } else if ( e . response . data . date_of_birth ) { alert ( '\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f: ' + e . response . data . date_of_birth ) } else if ( e . response . data . education ) { alert ( '\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435: ' + e . response . data . education ) } else if ( e . response . data . degree ) { alert ( '\u0423\u0447\u0451\u043d\u0430\u044f \u0441\u0442\u0435\u043f\u0435\u043d\u044c: ' + e . response . data . degree ) } else if ( e . response . data . passport ) { alert ( '\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435: ' + e . response . data . passport ) } else if ( e . response . data . address ) { alert ( '\u0410\u0434\u0440\u0435\u0441: ' + e . response . data . address ) } else if ( e . response . data . phone ) { alert ( '\u0422\u0435\u043b\u0435\u0444\u043e\u043d: ' + e . response . data . phone ) } else { console . error ( e . message ) } } } } } < /script> /views/HomeView.vue - \u0434\u043e\u043c\u0430\u0448\u043d\u044f\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f < template > < v - app > < bar - layout > < v - btn v - if = \"auth\" @ click = \"LK()\" text > \u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 < /v-btn> < v - spacer >< /v-spacer> < v - btn v - if = \"auth\" @ click = \"Books()\" text > \u041a\u043d\u0438\u0433\u0438 < /v-btn> < v - btn v - if = \"auth\" @ click = \"goLogout()\" text > \u0412\u044b\u0445\u043e\u0434 < /v-btn> < /bar-layout> < v - main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < br >< br > < HomePage /> < /v-main> < /v-app> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import HomePage from '@/components/HomePage.vue' export default { name : 'HomeView' , components : { BarLayout , HomePage }, computed : { auth () { var auth if ( localStorage . auth_token ) { auth = true } return auth }}, methods : { goLogout () { localStorage . clear () this . $router . push ({ name : 'Login' }) }, Books () { this . $router . push ({ name : 'Books' }) }, LK () { this . $router . push ({ name : 'Reader' }) }, } } < /script> /views/BooksView.vue - \u043a\u0430\u0442\u0430\u043b\u043e\u0433 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 < template > < section > < v - app > < bar - layout > < AllBooks /> < /bar-layout> < v - main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < v - row class = \"mx-3.5\" > < v - col cols = \"4\" class = \"mx-auto\" > < br >< br > < div > < h2 > \u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0438 < /h2> < v - card elevation = \"5\" outlined class = \"my-2\" v - for = \"book in books\" v - bind : key = \"book\" v - bind : book = \"book\" > < a @ click . prevent = \"goBook(book.id)\" > {{ book . title }} < /a> < /v-card> < /div> < /v-col> < /v-row> < /v-main> < /v-app> < /section> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import AllBooks from '@/components/AllBooks.vue' import axios from 'axios' export default { name : 'BookList' , data () { return { books : '' } }, created () { this . loadBooks () }, components : { BarLayout , AllBooks }, methods : { async loadBooks () { const response = await axios . get ( 'http://127.0.0.1:8000/library/books/' ) this . books = response . data }, goBook ( bookID ) { this . $router . push ({ name : 'Book' , params : { id : bookID } }) }, }} < /script> /views/BookView.vue - \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043a\u043d\u0438\u0433\u0435 < template > < section > < v - app > < bar - layout > < OneBook /> < /bar-layout> < v - main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < v - row class = \"mx-3.5\" > < v - col cols = \"5\" class = \"mx-auto\" > < br >< br > < div > < v - card elevation = \"2\" outlined class = \"my-5\" > < v - card - title > < h2 > {{ this . book . title }} < /h2> < /v-card-title> < v - card - text > < div class = \"text--primary\" > < b > \u0410\u0432\u0442\u043e\u0440\u044b :< /b> {{ this.book.authors }}<br> < b > \u0416\u0430\u043d\u0440 :< /b> {{ this.book.genre }} <br> < b > \u0413\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f :< /b> {{ this.book.publication_year }} <br> < b > \u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e :< /b> {{ this.book.publisher }} <br> < b > \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u0447\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 :< /b> {{ this.book.book_cypher }} <br> < br > < b > \u0417\u0430\u043b\u044b :< /b> < ul > < li v - for = \"hall in this.book.book_hall\" v - bind : key = \"hall\" v - bind : hall = \"hall\" > {{ hall . title }} < /li> < /ul> < /div> < /v-card-text> < /v-card> < v - btn v - if = \"!this.bookOnHold\" color = \"primary\" light @ click = \"takeBook\" > \u0412\u0437\u044f\u0442\u044c \u043a\u043d\u0438\u0433\u0443 < /v-btn> < v - card elevation = \"2\" outlined class = \"my-2\" v - else > < v - card - text > < div class = \"text--primary\" > \u0412\u044b \u0441\u0435\u0439\u0447\u0430\u0441 \u0447\u0438\u0442\u0430\u0435\u0442\u0435 \u044d\u0442\u0443 \u043a\u043d\u0438\u0433\u0443 < /div> < /v-card-text> < v - spacer >< /v-spacer> < v - btn block color = \"red\" light @ click = \"returnBook\" > \u0412\u0435\u0440\u043d\u0443\u0442\u044c \u043a\u043d\u0438\u0433\u0443 \u0432 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443 < /v-btn> < /v-card> < /div> < /v-col> < /v-row> < /v-main> < /v-app> < /section> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import OneBook from '@/components/OneBook.vue' import axios from 'axios' export default { name : 'BookView' , data () { return { book : Object , reader : Object , bookOnHold : false , bookReaderID : '' } }, created () { this . loadBook () this . loadReaderData () }, components : { BarLayout , OneBook }, methods : { async loadBook () { this . book_url = 'http://127.0.0.1:8000/library/books/' + this . $route . params . id const response = await axios . get ( this . book_url ) this . book = response . data }, async loadReaderData () { const response = await axios . get ( 'http://127.0.0.1:8000/auth/users/me/' , { headers : { Authorization : `Token ${ localStorage . auth_token } ` } }) this . reader = response . data await this . checkOnHold () }, async checkOnHold () { this . reader_url = 'http://127.0.0.1:8000/library/readers/' + this . reader . id const response = await axios . get ( this . reader_url ) console . log ( response . data ) // eslint-disable-next-line no-unused-vars for ( const [ key , value ] of Object . entries ( response . data . reader_book )) { if ( value . id === this . book . id ) { this . bookOnHold = true break } } }, takeBook () { this . $router . push ({ name : 'TakeBook' , params : { id : this . book . id } }) }, async returnBook () { const response = await axios . get ( 'http://127.0.0.1:8000/library/reader_books/' ) // eslint-disable-next-line no-unused-vars for ( const [ key , value ] of Object . entries ( response . data )) { if ( value . reader . id === this . reader . id && value . book . id === this . book . id ) { this . bookReaderID = value . id break } } await this . $router . push ({ name : 'ReturnBook' , params : { id : this . bookReaderID } }) }, }} < /script> /views/TakeBookView.vue - \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0435 \u043a\u043d\u0438\u0433\u0438 < template > < v - app > < bar - layout > < TakeBook /> < /bar-layout> < v - main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < v - row class = \"mx-3.5\" > < v - col cols = \"5\" class = \"mx-auto\" > < br >< br > < v - card > < v - card - title > < h2 > {{ this . book . title }} < /h2> < /v-card-title> < v - card - text > < div class = \"text--primary\" > < b > \u0410\u0432\u0442\u043e\u0440 ( - \u044b ) :< /b> {{ this.book.authors }}<br> < b > \u0416\u0430\u043d\u0440 :< /b> {{ this.book.genre }} <br> < b > \u0413\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f :< /b> {{ this.book.publication_year }} <br> < b > \u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e :< /b> {{ this.book.publisher }} <br> < b > \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u0447\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 :< /b> {{ this.book.book_cypher }} <br> < br > < v - text - field label = \"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438\" v - model = \"submitForm.issue_date\" name = \"issue_date\" type = \"date\" /> < v - text - field label = \"\u0414\u0430\u0442\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430\" v - model = \"submitForm.due_date\" name = \"due_date\" type = \"date\" /> < /div> < /v-card-text> < /v-card> < v - btn color = \"primary\" light @ click = \"takeBook\" > \u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c < /v-btn> < /v-col> < /v-row> < /v-main> < /v-app> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import TakeBook from '@/components/TakeBook.vue' import axios from 'axios' export default { name : 'TakeBookView' , components : { BarLayout , TakeBook }, data : () => ({ book : Object , reader : Object , submitForm : { book : '' , reader : '' , issue_date : '' , due_date : '' } }), created () { this . loadReaderData () this . loadBook () }, methods : { async loadBook () { this . book_url = 'http://127.0.0.1:8000/library/books/' + this . $route . params . id const response = await axios . get ( this . book_url ) this . book = response . data }, async takeBook () { this . submitForm . book = this . book . id this . submitForm . reader = this . reader . id await axios . post ( 'http://127.0.0.1:8000/library/take_out/' , this . submitForm ) await this . $router . push ({ name : 'Book' , params : { id : this . book . id } }) }, async loadReaderData () { const response = await axios . get ( 'http://127.0.0.1:8000/auth/users/me/' , { headers : { Authorization : `Token ${ localStorage . auth_token } ` } }) this . reader = response . data }, }} < /script> /views/ReturnBookView.vue - \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u043a\u043d\u0438\u0433\u0438 < template > < v - app > < bar - layout > < ReturnBook /> < /bar-layout> < v - main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < v - row class = \"mx-3.5\" > < v - col cols = \"5\" class = \"mx-auto\" > < br >< br > < v - card > < v - card - title > < h2 > {{ this . book . title }} < /h2> < /v-card-title> < v - card - text > < div class = \"text--primary\" > < b > \u0410\u0432\u0442\u043e\u0440 ( - \u044b ) :< /b> {{ this.book.authors }}<br> < b > \u0416\u0430\u043d\u0440 :< /b> {{ this.book.genre }} <br> < b > \u0413\u043e\u0434 \u0438\u0437\u0434\u0430\u043d\u0438\u044f :< /b> {{ this.book.publication_year }} <br> < b > \u0418\u0437\u0434\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e :< /b> {{ this.book.publisher }} <br> < b > \u0411\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u0447\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 :< /b> {{ this.book.book_cypher }} <br> < br > < /div> < /v-card-text> < /v-card> < v - card > < v - card - text > < div class = \"text--primary\" > \u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438 : {{ this . issue_date }} < br > \u0414\u0430\u0442\u0430 \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u0430 : {{ this . due_date }} < /div> < /v-card-text> < /v-card> < v - btn style = \"margin-top:0.5cm\" color = \"red\" light @ click = \"returnBook\" > \u0412\u0435\u0440\u043d\u0443\u0442\u044c < /v-btn> < /v-col> < /v-row> < /v-main> < /v-app> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import ReturnBook from '@/components/ReturnBook.vue' import axios from 'axios' export default { name : 'ReturnBookView' , components : { BarLayout , ReturnBook }, data : () => ({ book : '' , reader : '' , issue_date : '' , due_date : '' }), created () { this . loadReaderData () }, methods : { async loadReaderData () { this . book_url = 'http://127.0.0.1:8000/library/reader_books/' + this . $route . params . id const response = await axios . get ( this . book_url ) this . book = response . data . book this . reader = response . data . reader this . issue_date = response . data . issue_date this . due_date = response . data . due_date }, async returnBook () { this . return_url = 'http://127.0.0.1:8000/library/return/' + this . $route . params . id await axios . delete ( this . return_url ) alert ( '\u0412\u044b \u0432\u0435\u0440\u043d\u0443\u043b\u0438 \u043a\u043d\u0438\u0433\u0443 \u0432 \u0431\u0438\u0431\u043b\u0438\u043e\u0442\u0435\u043a\u0443' ) await this . $router . push ({ name : 'Books' }) }, }} < /script> /views/ReaderInfoView.vue - \u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 < template > < v - app > < bar - layout > < ReaderInfo /> < /bar-layout> < v - main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < v - row class = \"mx-3.5\" > < v - col cols = \"4\" class = \"mx-auto\" > < br >< br > < div > < v - card elevation = \"2\" outlined class = \"my-2\" > < v - card - title > < h2 > \u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442 < /h2> < /v-card-title> < v - card - text > < div class = \"text--primary\" > < b > \u0418\u043c\u044f :< /b> {{ this.reader.first_name }} <br> < b > \u0424\u0430\u043c\u0438\u043b\u0438\u044f :< /b> {{ this.reader.last_name }} <br> < b > \u041b\u043e\u0433\u0438\u043d :< /b> {{ this.reader.username }} <br> < b > \u041d\u043e\u043c\u0435\u0440 \u0431\u0438\u043b\u0435\u0442\u0430 :< /b> {{ this.reader.card_number }} <br> < b > \u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f :< /b> {{ this.reader.date_of_birth }} <br> < b > \u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435 :< /b> {{ this.reader.education }} <br> < b > \u0423\u0447\u0435\u043d\u0430\u044f \u0441\u0442\u0435\u043f\u0435\u043d\u044c :< /b> {{ this.reader.degree ? '\u0435\u0441\u0442\u044c' : '\u043d\u0435\u0442' }} <br> < b > \u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 :< /b> {{ this.reader.passport }} <br> < b > \u0410\u0434\u0440\u0435\u0441 :< /b> {{ this.reader.address }} <br> < b > \u0422\u0435\u043b\u0435\u0444\u043e\u043d :< /b> {{ this.reader.phone }} <br> < /div> < /v-card-text> < /v-card> < h3 v - if = \" arrLegth > 0\" > \u0412\u044b \u0441\u0435\u0439\u0447\u0430\u0441 \u0447\u0438\u0442\u0430\u0435\u0442\u0435 :< /h3> < h3 v - else > \u0412\u044b \u0441\u0435\u0439\u0447\u0430\u0441 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u0447\u0438\u0442\u0430\u0435\u0442\u0435 < /h3> < v - card elevation = \"5\" outlined class = \"my-2\" v - for = \"book in reader.reader_book\" v - bind : key = \"book\" v - bind : book = \"book\" > < a @ click . prevent = \"goBook(book.id)\" > {{ book . title }} < /a> < /v-card> < v - btn block color = \"green\" light @ click . prevent = \"goEdit\" > \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c < /v-btn> < /div> < /v-col> < /v-row> < /v-main> < /v-app> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import ReaderInfo from '@/components/ReaderInfo.vue' import axios from 'axios' export default { name : 'ReaderLK' , components : { BarLayout , ReaderInfo }, data () { return { arrLegth : Number , reader : Object } }, created () { this . loadReaderData () }, methods : { async loadReaderData () { const response = await axios . get ( 'http://127.0.0.1:8000/auth/users/me/' , { headers : { Authorization : `Token ${ localStorage . auth_token } ` } }) this . reader = response . data await this . loadCurrentlyReading () }, async loadCurrentlyReading () { this . cur_read_url = 'http://127.0.0.1:8000/library/readers/' + this . reader . id const response = await axios . get ( this . cur_read_url ) this . reader = response . data this . arrLegth = this . reader . reader_book . length }, goBook ( bookID ) { this . $router . push ({ name : 'Book' , params : { id : bookID } }) }, goEdit () { this . $router . push ({ name : 'EditReader' }) } } } < /script> /views/EditProfileView.vue - \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 < template > < v - app > < bar - layout > < EditProfile /> < /bar-layout> < v - main class = \"vh-100\" style = \"background-color: hsl(0, 0%, 96%);\" > < v - row class = \"mx-3.5\" > < v - col cols = \"4\" class = \"mx-auto\" > < br >< br > < div class = \"edit\" > < h2 style = \"text-align: center\" > \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f < /h2> < v - form @ submit . prevent = \"saveChanges\" ref = \"editForm\" class = \"my-2\" > < v - card max - width = 800 color = \"#f7f4ef\" > < v - row > < v - col cols = \"5\" class = \"mx-auto\" > < v - text - field label = \"\u0418\u043c\u044f\" v - model = \"editForm.first_name\" name = \"first_name\" /> < v - text - field label = \"\u0424\u0430\u043c\u0438\u043b\u0438\u044f\" v - model = \"editForm.last_name\" name = \"last_name\" /> < v - text - field label = \"\u041d\u043e\u043c\u0435\u0440 \u0431\u0438\u043b\u0435\u0442\u0430\" v - model = \"editForm.card_number\" name = \"card_number\" type = \"number\" /> < v - text - field label = \"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f\" v - model = \"editForm.date_of_birth\" name = \"date_of_birth\" type = \"date\" /> < v - select v - model = \"editForm.education\" : items = \"educationOptions\" label = \"\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435\" >< /v-select> < v - checkbox v - model = \"editForm.degree\" : label = \"'\u0423\u0447\u0451\u043d\u0430\u044f \u0441\u0442\u0435\u043f\u0435\u043d\u044c'\" >< /v-checkbox> < v - text - field label = \"\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435\" v - model = \"editForm.passport\" name = \"passport\" /> < v - text - field label = \"\u0410\u0434\u0440\u0435\u0441\" v - model = \"editForm.address\" name = \"address\" /> < v - text - field label = \"\u0422\u0435\u043b\u0435\u0444\u043e\u043d\" v - model = \"editForm.phone\" name = \"phone\" /> < /v-col> < /v-row> < /v-card> < v - btn block type = \"submit\" color = \"primary\" dark > \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c < /v-btn> < /v-form> < /div> < /v-col> < /v-row> < /v-main> < /v-app> < /template> < script > import BarLayout from '@/layouts/BarLayout.vue' import EditProfile from '@/components/EditProfile.vue' import axios from 'axios' export default { name : 'EditReader' , components : { BarLayout , EditProfile }, data : () => ({ reader_old : Object , editForm : { first_name : '' , last_name : '' , card_number : '' , date_of_birth : '' , education : '' , degree : '' , passport : '' , address : '' , phone : '' }, educationOptions : [ '\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u043e\u0431\u0449\u0435\u0435' , '\u0421\u0440\u0435\u0434\u043d\u0435\u0435 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435' , '\u0412\u044b\u0441\u0448\u0435\u0435' , '\u041d\u0435\u043e\u043a\u043e\u043d\u0447\u0435\u043d\u043d\u043e\u0435 \u0432\u044b\u0441\u0448\u0435\u0435' , '\u041d\u0435\u043e\u043a\u043e\u043d\u0447\u0435\u043d\u043d\u043e\u0435 \u0441\u0440\u0435\u0434\u043d\u0435\u0435' ] }), created () { this . loadReaderData () }, methods : { async loadReaderData () { const response = await axios . get ( 'http://127.0.0.1:8000/auth/users/me/' , { headers : { Authorization : `Token ${ localStorage . auth_token } ` } }) this . reader_old = response . data this . editForm . first_name = response . data . first_name this . editForm . last_name = response . data . last_name this . editForm . card_number = response . data . card_number this . editForm . date_of_birth = response . data . date_of_birth this . editForm . education = response . data . education this . editForm . degree = response . data . degree this . editForm . passport = response . data . passport this . editForm . address = response . data . address this . editForm . phone = response . data . phone }, async saveChanges () { for ( const [ key , value ] of Object . entries ( this . editForm )) { if ( value === '' ) { delete this . editForm [ key ] } } try { await axios . patch ( 'http://127.0.0.1:8000/auth/users/me/' , this . editForm , { headers : { Authorization : `Token ${ localStorage . auth_token } ` } }) await this . $router . push ({ name : 'Reader' }) } catch ( e ) { if ( e . response . data . non_field_errors ) { alert ( e . response . data . non_field_errors ) } else if ( e . response . data . username ) { alert ( '\u041b\u043e\u0433\u0438\u043d: ' + e . response . data . username ) } else if ( e . response . data . password ) { alert ( '\u041f\u0430\u0440\u043e\u043b\u044c: ' + e . response . data . password ) } else if ( e . response . data . first_name ) { alert ( '\u0418\u043c\u044f: ' + e . response . data . first_name ) } else if ( e . response . data . last_name ) { alert ( '\u0424\u0430\u043c\u0438\u043b\u0438\u044f: ' + e . response . data . last_name ) } else if ( e . response . data . card_number ) { alert ( '\u041d\u043e\u043c\u0435\u0440 \u0431\u0438\u043b\u0435\u0442\u0430: ' + e . response . data . card_number ) } else if ( e . response . data . date_of_birth ) { alert ( '\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f: ' + e . response . data . date_of_birth ) } else if ( e . response . data . education ) { alert ( '\u041e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u0435: ' + e . response . data . education ) } else if ( e . response . data . degree ) { alert ( '\u0423\u0447\u0451\u043d\u0430\u044f \u0441\u0442\u0435\u043f\u0435\u043d\u044c: ' + e . response . data . degree ) } else if ( e . response . data . passport ) { alert ( '\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435: ' + e . response . data . passport ) } else if ( e . response . data . address ) { alert ( '\u0410\u0434\u0440\u0435\u0441: ' + e . response . data . address ) } else if ( e . response . data . phone ) { alert ( '\u0422\u0435\u043b\u0435\u0444\u043e\u043d: ' + e . response . data . phone ) } else { console . error ( e . message ) } } } } } < /script>","title":"Views"},{"location":"lr4/#layout","text":"/layouts/BarLayout.vue - \u0441\u0442\u0438\u043b\u044c \u043d\u0430\u0432\u0438\u0433\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438 < template > < v - app - bar app color = 'black' dark > < slot /> < /v-app-bar> < /template>","title":"Layout"},{"location":"prac31/","text":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21163.1 Django \u0437\u0430\u0430\u043f\u0440\u043e\u0441\u044b \u0438 \u0438\u0445 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435. \u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.1 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 6-7 \u043d\u043e\u0432\u044b\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u0438 5-6 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439, \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0443 \u043d\u0430\u0437\u043d\u0430\u0447\u044c\u0442\u0435 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u0435 \u0438 \u043e\u0442 1 \u0434\u043e 3 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439. \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043b\u0438\u0431\u043e \u0432 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0442\u043e\u0440\u0430, \u043b\u0438\u0431\u043e \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c python-\u0444\u0430\u0439\u043b\u0435. \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u0442\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432. models.py - \u043c\u043e\u0434\u0435\u043b\u044c \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 class Car_owner ( models . Model ): id_owner = models . IntegerField ( primary_key = True ) last_name = models . CharField ( max_length = 30 , null = False ) first_name = models . CharField ( max_length = 30 , null = False ) birth_day = models . DateField ( null = True ) class Car ( models . Model ): id_car = models . IntegerField ( primary_key = True ) state_number = models . CharField ( max_length = 15 , null = False ) mark_car = models . CharField ( max_length = 20 , null = False ) model_car = models . CharField ( max_length = 20 , null = False ) color = models . CharField ( max_length = 30 , null = True ) class Ownership ( models . Model ): id_owner_car = models . IntegerField ( primary_key = True ) id_owner = models . ForeignKey ( Car_owner , on_delete = models . CASCADE , related_name = 'owner' ) id_car = models . ForeignKey ( Car , on_delete = models . CASCADE , related_name = 'car' ) start_date = models . DateField () end_date = models . DateField ( null = True ) class Driver_license ( models . Model ): id_license = models . IntegerField ( primary_key = True ) id_owner = models . ForeignKey ( Car_owner , on_delete = models . CASCADE , related_name = 'car_owner' ) license_number = models . CharField ( max_length = 10 , null = False ) category = models . CharField ( max_length = 10 , null = False ) date_of_license = models . DateField () \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0435\u0439 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u0430\u0432\u0442\u043e\u043c\u0438\u0431\u0438\u043b\u0435\u0439 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u0438\u0431\u0438\u043b\u0435\u0439 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u0430\u0432 \u0421\u0432\u044f\u0437\u044c \u043c\u0435\u0436\u0434\u0443 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u043c \u0438 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u043c \u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.2 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u041f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u043c \u0432 \u043f\u0440.1 \u0434\u0430\u043d\u043d\u044b\u043c \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043d\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044e: \u0412\u044b\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0441\u0435 \u043c\u0430\u0448\u0438\u043d\u044b \u043c\u0430\u0440\u043a\u0438 \u201cToyota\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u043c\u0430\u0440\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c): \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \u201c\u041e\u043b\u0435\u0433\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u044b\u043c \u0434\u0440\u0443\u0433\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0430 \u0432\u0430\u0448\u0435 \u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0435): \u0412\u0437\u044f\u0432 \u043b\u044e\u0431\u043e\u0433\u043e \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0435\u0433\u043e id, \u0438 \u043f\u043e \u044d\u0442\u043e\u043c\u0443 id \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f \u0432 \u0432\u0438\u0434\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043c\u043e\u0434\u0435\u043b\u0438 (\u043c\u043e\u0436\u043d\u043e \u0432 2 \u0437\u0430\u043f\u0440\u043e\u0441\u0430): \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043a\u0440\u0430\u0441\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0446\u0432\u0435\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443 \u0432\u0430\u0441 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442): \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432, \u0447\u0435\u0439 \u0433\u043e\u0434 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 2010 (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0433\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0443 \u0432\u0430\u0441 \u0432 \u0431\u0430\u0437\u0435): \u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.3 \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b: \u0412\u044b\u0432\u043e\u0434 \u0434\u0430\u0442\u044b \u0432\u044b\u0434\u0430\u0447\u0438 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0430\u0440\u0448\u0435\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f: \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0430\u043c\u0443\u044e \u043f\u043e\u0437\u0434\u043d\u044e\u044e \u0434\u0430\u0442\u0443 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439, \u0438\u043c\u0435\u044e\u0449\u0443\u044e \u043a\u0430\u043a\u0443\u044e-\u0442\u043e \u0438\u0437 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0432 \u0432\u0430\u0448\u0435\u0439 \u0431\u0430\u0437\u0435: \u0412\u044b\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f: \u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u043a\u0430\u0436\u0434\u043e\u0439 \u043c\u0430\u0440\u043a\u0438: \u041e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0441\u0435\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043f\u043e \u0434\u0430\u0442\u0435 \u0432\u044b\u0434\u0430\u0447\u0438 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f:","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21163.1"},{"location":"prac31/#no31","text":"Django \u0437\u0430\u0430\u043f\u0440\u043e\u0441\u044b \u0438 \u0438\u0445 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435.","title":"\u041f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u21163.1"},{"location":"prac31/#311","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u043d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 6-7 \u043d\u043e\u0432\u044b\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u0438 5-6 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439, \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0443 \u043d\u0430\u0437\u043d\u0430\u0447\u044c\u0442\u0435 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u0435 \u0438 \u043e\u0442 1 \u0434\u043e 3 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u0439. \u0417\u0430\u0434\u0430\u043d\u0438\u0435 \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u043b\u0438\u0431\u043e \u0432 \u0438\u043d\u0442\u0435\u0440\u0430\u043a\u0442\u0438\u0432\u043d\u043e\u043c \u0440\u0435\u0436\u0438\u043c\u0435 \u0438\u043d\u0442\u0435\u0440\u043f\u0440\u0435\u0442\u0430\u0442\u043e\u0440\u0430, \u043b\u0438\u0431\u043e \u0432 \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u043e\u043c python-\u0444\u0430\u0439\u043b\u0435. \u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u043c \u0434\u043e\u043b\u0436\u043d\u044b \u0441\u0442\u0430\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u0432. models.py - \u043c\u043e\u0434\u0435\u043b\u044c \u0431\u0430\u0437\u044b \u0434\u0430\u043d\u043d\u044b\u0445 class Car_owner ( models . Model ): id_owner = models . IntegerField ( primary_key = True ) last_name = models . CharField ( max_length = 30 , null = False ) first_name = models . CharField ( max_length = 30 , null = False ) birth_day = models . DateField ( null = True ) class Car ( models . Model ): id_car = models . IntegerField ( primary_key = True ) state_number = models . CharField ( max_length = 15 , null = False ) mark_car = models . CharField ( max_length = 20 , null = False ) model_car = models . CharField ( max_length = 20 , null = False ) color = models . CharField ( max_length = 30 , null = True ) class Ownership ( models . Model ): id_owner_car = models . IntegerField ( primary_key = True ) id_owner = models . ForeignKey ( Car_owner , on_delete = models . CASCADE , related_name = 'owner' ) id_car = models . ForeignKey ( Car , on_delete = models . CASCADE , related_name = 'car' ) start_date = models . DateField () end_date = models . DateField ( null = True ) class Driver_license ( models . Model ): id_license = models . IntegerField ( primary_key = True ) id_owner = models . ForeignKey ( Car_owner , on_delete = models . CASCADE , related_name = 'car_owner' ) license_number = models . CharField ( max_length = 10 , null = False ) category = models . CharField ( max_length = 10 , null = False ) date_of_license = models . DateField ()","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.1"},{"location":"prac31/#_1","text":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u0430\u0432\u0442\u043e\u043c\u0438\u0431\u0438\u043b\u0435\u0439 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0430\u0432\u0442\u043e\u043c\u0438\u0431\u0438\u043b\u0435\u0439 \u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u0440\u0430\u0432 \u0421\u0432\u044f\u0437\u044c \u043c\u0435\u0436\u0434\u0443 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u043c \u0438 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u0435\u043c","title":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0443\u0449\u043d\u043e\u0441\u0442\u0435\u0439"},{"location":"prac31/#312","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u041f\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u043c \u0432 \u043f\u0440.1 \u0434\u0430\u043d\u043d\u044b\u043c \u043d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b \u043d\u0430 \u0444\u0438\u043b\u044c\u0442\u0440\u0430\u0446\u0438\u044e: \u0412\u044b\u0432\u0435\u0434\u0435\u0442\u0435 \u0432\u0441\u0435 \u043c\u0430\u0448\u0438\u043d\u044b \u043c\u0430\u0440\u043a\u0438 \u201cToyota\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u043c\u0430\u0440\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u0430\u044f \u0443 \u0432\u0430\u0441 \u0435\u0441\u0442\u044c): \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0435\u0439 \u0441 \u0438\u043c\u0435\u043d\u0435\u043c \u201c\u041e\u043b\u0435\u0433\u201d (\u0438\u043b\u0438 \u043b\u044e\u0431\u044b\u043c \u0434\u0440\u0443\u0433\u0438\u043c \u0438\u043c\u0435\u043d\u0435\u043c \u043d\u0430 \u0432\u0430\u0448\u0435 \u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0438\u0435): \u0412\u0437\u044f\u0432 \u043b\u044e\u0431\u043e\u0433\u043e \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0435\u0433\u043e id, \u0438 \u043f\u043e \u044d\u0442\u043e\u043c\u0443 id \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u044d\u043a\u0437\u0435\u043c\u043f\u043b\u044f\u0440 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f \u0432 \u0432\u0438\u0434\u0435 \u043e\u0431\u044a\u0435\u043a\u0442\u0430 \u043c\u043e\u0434\u0435\u043b\u0438 (\u043c\u043e\u0436\u043d\u043e \u0432 2 \u0437\u0430\u043f\u0440\u043e\u0441\u0430): \u0412\u044b\u0432\u0435\u0441\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043a\u0440\u0430\u0441\u043d\u044b\u0445 \u043c\u0430\u0448\u0438\u043d (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0433\u043e \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0446\u0432\u0435\u0442\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443 \u0432\u0430\u0441 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442): \u041d\u0430\u0439\u0442\u0438 \u0432\u0441\u0435\u0445 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432, \u0447\u0435\u0439 \u0433\u043e\u0434 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0441 2010 (\u0438\u043b\u0438 \u043b\u044e\u0431\u043e\u0439 \u0434\u0440\u0443\u0433\u043e\u0439 \u0433\u043e\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u0443\u0435\u0442 \u0443 \u0432\u0430\u0441 \u0432 \u0431\u0430\u0437\u0435):","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.2"},{"location":"prac31/#313","text":"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0440\u0435\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u044b: \u0412\u044b\u0432\u043e\u0434 \u0434\u0430\u0442\u044b \u0432\u044b\u0434\u0430\u0447\u0438 \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0442\u0430\u0440\u0448\u0435\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f: \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0430\u043c\u0443\u044e \u043f\u043e\u0437\u0434\u043d\u044e\u044e \u0434\u0430\u0442\u0443 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f \u043c\u0430\u0448\u0438\u043d\u043e\u0439, \u0438\u043c\u0435\u044e\u0449\u0443\u044e \u043a\u0430\u043a\u0443\u044e-\u0442\u043e \u0438\u0437 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u044e\u0449\u0438\u0445 \u043c\u043e\u0434\u0435\u043b\u0435\u0439 \u0432 \u0432\u0430\u0448\u0435\u0439 \u0431\u0430\u0437\u0435: \u0412\u044b\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044f: \u041f\u043e\u0434\u0441\u0447\u0438\u0442\u0430\u0439\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043c\u0430\u0448\u0438\u043d \u043a\u0430\u0436\u0434\u043e\u0439 \u043c\u0430\u0440\u043a\u0438: \u041e\u0442\u0441\u043e\u0440\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0432\u0441\u0435\u0445 \u0430\u0432\u0442\u043e\u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435\u0432 \u043f\u043e \u0434\u0430\u0442\u0435 \u0432\u044b\u0434\u0430\u0447\u0438 \u0443\u0434\u043e\u0441\u0442\u043e\u0432\u0435\u0440\u0435\u043d\u0438\u044f:","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u0435 3.1.3"}]}